{"version":3,"sources":["images/homepage/book.png","images/homepage/laptop_phone.png","images/homepage/stats.png","images/homepage/contact.png","images/rightIcon.png","images/leftIcon.png","forecast_data_formatted.txt","images/carIcon2.png","images/node.png","images/avaliable.png","images/taken.png","reducers/data.js","reducers/global.js","reducers/loaders.js","reducers/index.js","firebase.js","firebaseConfig.js","actions/login.js","actions/fetchers.js","actions/geo.js","components/SubComponents/Notify.js","components/LoginComponents/SignUp.js","components/LoginComponents/SignIn.js","components/SubComponents/StyledLink.js","components/LoginComponents/SignOut.js","components/LoginComponents/UserName.js","components/Main/Header.js","actions/global.js","components/SubComponents/HomeText.js","components/Main/Home.js","components/Main/Profile.js","functions/Graph.js","functions/DirectFunctions.js","components/SubComponents/MapDrawer.js","components/SubComponents/Charts.js","components/Main/MapComponent.js","actions/chat.js","components/SubComponents/Chat.js","components/Main/Contact.js","components/Main/Footer.js","components/Main/Statistics.js","components/Main/Admin.js","Root.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","INITIAL_STATE","login","window","localStorage","getItem","defaultState","headerBkg","parkinglot","global","state","arguments","length","undefined","action","type","Object","objectSpread","selected","payload","userPos","path","sensor","spot","loadUserPage","load","userPageSuccess","success","latlngs","chatInfo","chatMessages","allChats","showJoin","loadUserName","toastMessage","message","showToast","show","toastType","toastTime","time","combineReducers","data","assign","userInfo","singleUser","userCars","userBookings","json","geometry","corners","support","sensors","entrance","loaders","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","fsRef","auth","changeLogin","status","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","wrap","_context","prev","next","setTimeout","stop","_x","apply","this","createUser","email","password","lp","carName","_ref2","_callee2","_context2","createUserWithEmailAndPassword","then","collection","doc","currentUser","uid","set","username","split","catch","err","console","log","_x2","getUser","_ref3","_callee3","_context3","get","_x3","signInUser","_ref4","_callee4","_context4","signInWithEmailAndPassword","_x4","updateUserInfo","_ref5","_callee5","_context5","update","updateEmail","_x5","signOutUser","_ref6","_callee6","_context6","signOut","_x6","fetchInfo","onSnapshot","fetchCars","docs","cars","forEach","push","fetchBookings","bookings","niceDate","Date","date","toLocaleString","slice","getGeo","lot","JSON","parse","exists","Notify","props","value","toast","position","POSITION","BOTTOM_CENTER","TYPE","ERROR","autoClose","react_default","createElement","lib","className","Component","SignUp","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","e","preventDefault","veripassword","setState","open","handleChange","defineProperty","target","id","openPopover","scrollY","scrollTo","top","left","behavior","closePopover","Fragment","popover","interactionKind","PopoverInteractionKind","CLICK","popoverClassName","Position","BOTTOM","buttons","style","marginLeft","onClick","intent","isOpen","onClose","content","onSubmit","inputGroup","placeholder","leftIcon","color","Intent","PRIMARY","onChange","autoFocus","role","notify","Notify_Notify","connect","bindActionCreators","SignIn","signIn","StyledLink","Link","textDecoration","to","React","SignOut","signout","StyledLink_StyledLink","UserName","spinner","size","HOVER","LoginComponents_SignOut","rightIcon","Header","removeItem","_this2","onAuthStateChanged","user","setItem","react_reveal","fontWeight","backgroundColor","boxShadow","margin","width","LoginComponents_UserName","LoginComponents_SignIn","LoginComponents_SignUp","_state$data","_state$global","changeHeaderBkg","submitContactForm","topic","text","changeToaster","addCar","deleteCar","delete","bookSpot","car","deleteBooking","HomeText","handleSetActive","handleRadioSelected","replace","currDiv","modules","radioColor","smooth","offset","duration","onSetActive","name","flex","bottom","src","laptopPhone","book","right","stats","contact","objectDestructuringEmpty","Home","handleMouseMove","screenY","innerHeight","showUp","handleScroll","above","scroll","scrollTop","divRef","addEventListener","removeEventListener","cascade","SubComponents_HomeText","icon","iconSize","Profile","handleInput","checkTarget","tagName","parentElement","regNr","prevProps","divider","keys","map","item","key","Col","marginTop","justifyContent","progressBar","Graph","noOfVertices","addVertex","v","adjList","addEdge","w","len","latlnglen","getNode","node","toConsumableArray","find","getLength","printGraph","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","i","values","conc","return","Map","distance","from","nfrom","Math","PI","nto","r","x1","cos","x2","y1","sin","y2","z1","z2","sqrt","pow","lowestCostNode","costs","processed","reduce","lowest","includes","assignSensor","g","addUserPosGraph","min_dist","properties","dijskt","start","finish","start_node","parents","child","cost","children","n","newCost","parent","optimalPath","reverse","dijkstra","dist","pos","closest","coord","nodes","min","node_coord","coordinates","getClosest","createGraph","m","require","matrix","label","_loop","_loop2","j","latlngDist","getPolyline","polyline","nodeCoord","findNodeCoord","lat","lng","calcBBox","points","ul","lr","nodeName","findNodeIndex","index","angleBetweenPoints","p1","p2","dLng","x","y","bearing","atan2","radians","pi","toDegrees","getDirection","angle","determimeDirection","dir1","dir2","sum","MapDrawer","showDrawer","selectCar","selectedCar","handleDate","selectedDate","getTime","drawer","transitionDuration","title","Classes","DRAWER_BODY","DIALOG_BODY","menu","ELEVATION_1","menuItem","datePicker","timePrecision","DRAWER_FOOTER","am4core","am4themes_animated","Charts","loading","predictedData","processedData","daysBackward","daysForward","oppositePredictedData","componentDidMount","fetch","data_split","date_split_spots","date_from_split","spots_from_split","parseInt","chart","am4charts","dateAxis","xAxes","dataFields","category","renderer","grid","template","location","minGridDistance","yAxes","series","valueY","dateX","columns","propertyFields","fill","stroke","tooltipText","fillOpacity","columnTemplate","strokeWidth","strokeOpacity","that","assertThisInitialized","$","ajax","url","$limit","lot_name","$$app_token","dataFilter","mydata","pdata","startDate","endDate","setDate","getDate","dateLess","filter","d","toISOString","stringify","dataProcessed","filterData","initiateOtherCharts","chart2","paddingRight","valueAxis","tooltip","disabled","minWidth","cursor","scrollbarX","handleSubmit","loadData","raw_data","number","lastObject","spots","temp_data","getMinutes","sort","data2","dataProcessed2","dispose","class","height","maxWidth","marginBottom","userIcon","L","Icon","iconUrl","nodeIcon","sensorIconSize","sensorIconAvaliable","sensorIconTaken","MapComponent","assigned","currPos","changeSpotStatus","direction","currDistance","totDistance","showDistance","getNodeCoord","splice","directionIcon","changeUserPos","latlng","showNode","options","loadingMap","bbox","prevState","SubComponents_Charts","es_Map","bounds","zIndex","TileLayer","attribution","Polyline","positions","weight","Marker","toFixed","SubComponents_MapDrawer","Redirect","newChat","admin","initDate","users","format_date","post","messages","addPost","createdBy","getAllChats","chats","getChat","closeChat","Chat","handleShow","startChat","addMessage","handleText","scrollSmoothToBottom","div","document","getElementById","animate","scrollHeight","clientHeight","react_reveal_default","textAlign","Contact","topicText","handleTopicChange","radioGroup","selectedValue","inline","controls","textArea","large","SubComponents_Chat","Footer","obj","SUCCESS","DEFAULT","Colors","DARK_GRAY5","_state$loaders","Statistics","Admin","getCurrChat","currInit","Root","store","react_redux_es","BrowserRouter","Main_Header","Route","exact","component","Main_Footer","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","error","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","src_Root","URL","process","href","origin","concat","response","contentType","headers","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.d3798732.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/book.ccfb4fb9.png\";","module.exports = __webpack_public_path__ + \"static/media/laptop_phone.e48527dd.png\";","module.exports = __webpack_public_path__ + \"static/media/stats.66368d7c.png\";","module.exports = __webpack_public_path__ + \"static/media/contact.4034b887.png\";","module.exports = __webpack_public_path__ + \"static/media/rightIcon.4c9cb4e4.png\";","module.exports = __webpack_public_path__ + \"static/media/leftIcon.19d39469.png\";","module.exports = __webpack_public_path__ + \"static/media/forecast_data_formatted.5f36ebf6.txt\";","module.exports = __webpack_public_path__ + \"static/media/carIcon2.3f11b963.png\";","module.exports = __webpack_public_path__ + \"static/media/node.fa336545.png\";","module.exports = __webpack_public_path__ + \"static/media/avaliable.78c14fe8.png\";","module.exports = __webpack_public_path__ + \"static/media/taken.b389ae52.png\";","const INITIAL_STATE = {\r\n      login:window.localStorage.getItem(\"LOGIN\")!==null,\r\n};\r\n\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n    switch (action.type) {\r\n    case 'USER-INFO':\r\n      return Object.assign({}, state, {\r\n        userInfo:action.payload\r\n      })\r\n    case 'SIGNLE-USER':\r\n      return Object.assign({}, state, {\r\n        singleUser:action.payload\r\n      })\r\n    case 'USER-CARS':\r\n      return Object.assign({}, state, {\r\n        userCars:action.payload\r\n      })\r\n    case 'USER-BOOKINGS':\r\n      return Object.assign({}, state, {\r\n        userBookings:action.payload\r\n      })\r\n    case 'LOGIN':\r\n      return Object.assign({}, state, {\r\n        login:action.payload\r\n      })\r\n    case 'GET-GEO':\r\n      return Object.assign({}, state, {\r\n        json:action.payload,\r\n        geometry:action.payload.geometry,\r\n        corners:action.payload.corners,\r\n        support:action.payload.support,\r\n        sensors:action.payload.sensors,\r\n        entrance:action.payload.entrance,\r\n      })\r\n    default:\r\n      return state;\r\n    }\r\n};","let defaultState = {\r\n    headerBkg:false,\r\n    parkinglot:\"Library\",\r\n}\r\n\r\nconst global = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case 'SET-SELECTED':\r\n            return{\r\n                ...state,\r\n                selected:action.payload,\r\n            }\r\n        case 'USER-POS':\r\n            return{\r\n                ...state,\r\n                userPos:action.payload,\r\n            }\r\n        \r\n        case 'ASSIGN-SPOT':\r\n            return{\r\n                ...state,\r\n                path:action.payload.path,\r\n                sensor:action.payload.spot,\r\n            }\r\n        case 'LOAD-USERPAGE':\r\n            return{\r\n                ...state,\r\n                loadUserPage:action.payload.load,\r\n                userPageSuccess:action.payload.success,\r\n            }\r\n        case 'SET-POLYLINE':\r\n            return{\r\n                ...state,\r\n                latlngs:action.payload\r\n            }\r\n        case 'SET-HEADER-BKG':\r\n            return{\r\n                ...state,\r\n                headerBkg:action.payload\r\n            }\r\n        case 'GET-CHAT':\r\n            return{\r\n                ...state,\r\n                chatInfo:action.payload,\r\n            }\r\n        case 'CURRENT-CHAT':\r\n            return{\r\n                ...state,\r\n                chatMessages:action.payload,\r\n            }\r\n        case 'ALL-CHATS':\r\n            return{\r\n                ...state,\r\n                allChats:action.payload,\r\n            }\r\n        case 'SHOW-JOIN':\r\n            return{\r\n                ...state,\r\n                showJoin:action.payload,\r\n            }\r\n        default:        \r\n            return state;\r\n    }\r\n}\r\n\r\nexport default global;","let defaultState = {\r\n    loadUserName:true,\r\n}\r\n\r\nconst global = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case 'LOGIN-FIELD-LOADER':\r\n            return{\r\n                ...state,\r\n                loadUserName:action.payload,\r\n            }\r\n        case 'TOASTER':        \r\n            return{\r\n                ...state,\r\n                toastMessage:action.message,\r\n                showToast:action.show,\r\n                toastType:action.toastType,\r\n                toastTime:action.time,\r\n            }\r\n        default:        \r\n            return state;\r\n    }\r\n}\r\n\r\nexport default global;","import { combineReducers } from \"redux\";\r\n\r\nimport data from \"./data\";\r\nimport global from \"./global\"\r\nimport loaders from './loaders'\r\n\r\nexport default combineReducers({\r\n  data,\r\n  global,\r\n  loaders,\r\n});\r\n","import * as firebase from 'firebase';\r\nimport {config} from './firebaseConfig';\r\n\r\nfirebase.initializeApp(config);\r\nconst firestoreRef = firebase.firestore();\r\n\r\nexport const fsRef = firestoreRef;\r\nexport const auth = firebase.auth();","export const config = {\r\n    apiKey: \"AIzaSyCz2Lbfoxu59bbPKz5GaWNczSvq_I0Uh_E\",\r\n    authDomain: \"optipark-5dfe8.firebaseapp.com\",\r\n    databaseURL: \"https://optipark-5dfe8.firebaseio.com\",\r\n    projectId: \"optipark-5dfe8\",\r\n    storageBucket: \"optipark-5dfe8.appspot.com\",\r\n    messagingSenderId: \"887530230166\"\r\n}","import {auth, fsRef} from '../firebase';\r\n\r\n\r\n\r\nexport const changeLogin = (status) => async dispatch =>{\r\n    dispatch({\r\n        type:'LOGIN',\r\n        payload:status,\r\n    })\r\n    setTimeout(() => {\r\n        dispatch({\r\n            type:'LOGIN-FIELD-LOADER',\r\n            payload:null\r\n        })    \r\n    }, 1000);\r\n    \r\n}\r\n\r\nexport const createUser = (email,password, lp, carName) => async dispatch=>{  \r\n    auth.createUserWithEmailAndPassword(email,password)\r\n    .then(()=>{ \r\n        fsRef.collection(\"users\").doc(auth.currentUser.uid).set({\r\n            email:email,\r\n            username:email.split(\"@\")[0],\r\n            uid:auth.currentUser.uid,\r\n        })\r\n        fsRef.collection(\"users\").doc(auth.currentUser.uid).collection(\"cars\").doc(lp).set({\r\n            lp,carName,\r\n        })\r\n    })\r\n    .catch((err) =>{\r\n        console.log('create error',err);\r\n        dispatch({\r\n            type:'TOASTER',\r\n            message:err.message,\r\n            show:true,\r\n            toastType:\"error\",\r\n            time:3000,\r\n        })\r\n    });\r\n}\r\n\r\nexport const getUser = (uid) => async dispatch =>{\r\n    fsRef.collection(\"users\").doc(uid).get()\r\n    .then((doc)=>{\r\n        console.log(doc.data());\r\n        dispatch({\r\n            type:'SINGLE-USER',\r\n            payload:doc.data()\r\n        })\r\n    })\r\n}\r\n\r\nexport const signInUser = (email,password) => async dispatch => {\r\n    auth.signInWithEmailAndPassword(email, password)\r\n    .catch((err) =>{\r\n        console.log('Signin error',err);\r\n        dispatch({\r\n            type:'TOASTER',\r\n            message:err.message,\r\n            show:true,\r\n            toastType:\"error\",\r\n            time:3000,\r\n        })\r\n    });\r\n  \r\n}\r\n\r\nexport const updateUserInfo = (email, username) => async dispatch => {\r\n\r\n    fsRef.collection(\"users\").doc(auth.currentUser.uid).update({\r\n        email,\r\n        username,\r\n    })\r\n    auth.currentUser.updateEmail(email)\r\n}\r\n\r\n\r\nexport const signOutUser = () => async dispatch => {\r\n    auth.signOut().then(()=>{\r\n        dispatch({\r\n            type:'USER-INFO',\r\n            payload:null,\r\n        })\r\n        dispatch({\r\n            type:'LOGIN-FIELD-LOADER',\r\n            payload:true\r\n        })\r\n    })\r\n    .catch((err) =>{\r\n        console.log('Signout Error',err);\r\n        dispatch({\r\n            type:'TOASTER',\r\n            message:err.message,\r\n            show:true,\r\n            toastType:\"error\",\r\n            time:3000,\r\n        })\r\n    });\r\n}","import {fsRef, auth} from '../firebase'\r\n\r\nexport const fetchInfo = () => async dispatch =>{\r\n    fsRef.collection(\"users\").doc(auth.currentUser.uid).onSnapshot((doc)=>{\r\n        dispatch({\r\n            type:'USER-INFO',\r\n            payload:doc.data()\r\n        })\r\n    })\r\n}\r\n\r\nexport const fetchCars = () => async dispatch => {\r\n    fsRef.collection(\"users\").doc(auth.currentUser.uid).collection(\"cars\").onSnapshot((docs)=>{\r\n        let cars = [];\r\n        docs.forEach(doc=>{\r\n            cars.push(doc.data())\r\n        })\r\n        if(cars.length>0){\r\n            dispatch({\r\n                type:'USER-CARS',\r\n                payload:cars,\r\n            })\r\n        }\r\n    })\r\n}\r\n\r\nexport const fetchBookings = () => async dispatch=> {\r\n    fsRef.collection(\"users\").doc(auth.currentUser.uid).collection(\"bookings\").onSnapshot((docs)=>{\r\n        let bookings = []\r\n        docs.forEach(doc=>{\r\n            let data = doc.data();\r\n            data.niceDate = new Date(data.date).toLocaleString();\r\n            data.niceDate = data.niceDate.slice(0,data.niceDate.length-3)\r\n            bookings.push(data)\r\n        })\r\n        if (bookings.length>0) {\r\n            dispatch({\r\n                type:'USER-BOOKINGS',\r\n                payload:bookings,\r\n            })\r\n        }\r\n    })\r\n}","import {fsRef} from '../firebase';\r\n\r\nexport const getGeo = (lot) => async dispatch =>{\r\n    fsRef.collection(\"parkinglots\").doc(lot).onSnapshot((doc)=>{\r\n        let json = JSON.parse(doc.data().json);\r\n        if (doc.exists) {\r\n            dispatch({            \r\n                type:'GET-GEO',\r\n                payload:json\r\n            })    \r\n        }else{\r\n            console.log(\"no such document\");\r\n            \r\n        }\r\n    })\r\n}\r\n\r\nexport const writeGeo = (json,name) => async =>{\r\n    fsRef.collection(\"parkinglots\").doc(name).set({\r\n        json:JSON.stringify(json),\r\n        name:name,\r\n    })\r\n    .catch(()=>{\r\n        console.log(\"error\");\r\n        \r\n    })   \r\n}\r\n\r\nexport const changeUserPos = (lat, lng) => dispatch => {\r\n    dispatch({\r\n        type:'USER-POS',\r\n        payload: [lat, lng],\r\n    })\r\n}\r\n\r\nexport const assignSpot = (spot, path) => dispatch => {\r\n    dispatch({\r\n        type:'ASSIGN-SPOT',\r\n        payload: {\r\n            spot:spot,\r\n            path:path,\r\n        }\r\n    })\r\n}\r\n","import React,{ Component } from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nexport default class Notify extends Component{\r\n    render(){\r\n        console.log(this.props.value);\r\n        \r\n        toast(this.props.value,{\r\n            position: toast.POSITION.BOTTOM_CENTER,\r\n            type:toast.TYPE.ERROR,\r\n            autoClose:1000\r\n        });\r\n        return(<ToastContainer className=\"toastUp\"/>)\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport { InputGroup, Button, Intent, Popover, PopoverInteractionKind, Position, Classes } from '@blueprintjs/core';\r\nimport { createUser } from '../../actions/login';\r\nimport {toast} from 'react-toastify'\r\nimport Notify from '../SubComponents/Notify';\r\n\r\nclass SignUp extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            email:\"\",\r\n            password:\"\",\r\n            veripassword:\"\",\r\n            lp:\"\",\r\n            carName:\"\",\r\n            open:false,\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    createUser = (e) =>{\r\n        e.preventDefault();\r\n        \r\n        if(this.state.password!==this.state.veripassword){\r\n            toast(\"Passwords doesn't match\",{\r\n                position: toast.POSITION.BOTTOM_CENTER,\r\n                type:toast.TYPE.ERROR,\r\n                autoClose:1500\r\n            });\r\n        }else if (this.state.email===\"\"||this.state.password===\"\"||this.state.veripassword===\"\"||this.state.lp===\"\") {\r\n            toast(\"Fields are empty\",{\r\n                position: toast.POSITION.BOTTOM_CENTER,\r\n                type:toast.TYPE.ERROR,\r\n                autoClose:1500\r\n            });\r\n        }else{\r\n            this.props.createUser(this.state.email,this.state.password, this.state.lp, this.state.carName)\r\n            this.setState({open:false})\r\n        }\r\n    }\r\n\r\n    handleChange = (e) => {        \r\n        this.setState({[e.target.id]:e.target.value})\r\n    }\r\n\r\n    openPopover = () =>{\r\n        if (window.scrollY!==0) {\r\n            window.scrollTo({top:0, left:0, behavior:'smooth'});\r\n            setTimeout(() => {\r\n                this.setState({open:!this.state.open})                    \r\n            }, 830);\r\n        }else{\r\n            this.setState({open:!this.state.open})    \r\n        }\r\n    }\r\n    \r\n    closePopover = (e) => {\r\n        this.setState({open:false})\r\n    }\r\n\r\n    render(){\r\n        console.log(this.props.showJoin);\r\n        \r\n        \r\n        \r\n        return(\r\n            <React.Fragment>\r\n            <Popover\r\n                interactionKind={PopoverInteractionKind.CLICK}\r\n                popoverClassName=\"bp3-popover-content-sizing\"\r\n                position={Position.BOTTOM}\r\n                target={<Button style={{marginLeft:'10px'}} onClick={this.openPopover} intent=\"primary\">Sign Up</Button>}\r\n                isOpen={this.state.open}\r\n                onClose={this.closePopover}\r\n                content={\r\n                <form\r\n                onSubmit={this.createUser}\r\n                >\r\n                    <label className=\"bp3-label\">Sign Up</label>\r\n                    <InputGroup\r\n                        id={'email'}\r\n                        className=\"popover-input\"\r\n                        type={'email'}\r\n                        placeholder={'Email'}\r\n                        leftIcon={\"user\"}\r\n                        style={{color:'white'}}\r\n                        intent={Intent.PRIMARY}\r\n                        onChange={this.handleChange}\r\n                        value={this.state.email}\r\n                        autoFocus\r\n                        />\r\n                    <InputGroup\r\n                        id={'password'}\r\n                        className=\"popover-input\"\r\n                        type={'password'}\r\n                        leftIcon={\"lock\"}\r\n                        placeholder={\"Password\"}\r\n                        onChange={this.handleChange}\r\n                        value={this.state.password}\r\n                    />\r\n                    <InputGroup\r\n                        id={'veripassword'}\r\n                        className=\"popover-input\"\r\n                        type={'password'}\r\n                        leftIcon={\"lock\"}\r\n                        placeholder={\"Verify password\"}\r\n                        onChange={this.handleChange}\r\n                        value={this.state.veripassword}\r\n                    />\r\n                    <InputGroup\r\n                        id={'lp'}\r\n                        className=\"popover-input\"\r\n                        type={'text'}\r\n                        leftIcon={\"drive-time\"}\r\n                        placeholder={\"License plate\"}\r\n                        onChange={this.handleChange}\r\n                        value={this.state.lp}\r\n                    />\r\n                    <InputGroup\r\n                        id={'carName'}\r\n                        className=\"popover-input\"\r\n                        type={'text'}\r\n                        leftIcon={\"plus\"}\r\n                        placeholder={\"Car name (optional)\"}\r\n                        onChange={this.handleChange}\r\n                        value={this.state.carName}\r\n                    />\r\n                <Button type=\"submit\" role=\"button\">Create</Button>\r\n                {this.state.notify?<Notify value=\"Password does not match\"/>:null}\r\n                </form>\r\n                }\r\n                />\r\n                {this.props.showJoin&&!this.props.login?<Button className=\"join-btn\" intent=\"success\" onClick={this.openPopover}>Join now!</Button>:null}\r\n            </React.Fragment>\r\n        )}\r\n}\r\n\r\nconst mapStateToProps = (state) => {    \r\n    const { login } = state.data;\r\n    const { showJoin } = state.global;\r\n    return {\r\n        login,\r\n        showJoin\r\n    }\r\n}\r\n  \r\nconst mapDispatchToProps = (dispatch) => {\r\n    return bindActionCreators({ createUser }, dispatch);\r\n}\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);\r\n","import React, { Component } from 'react';\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport { InputGroup, Button, Intent, Popover, PopoverInteractionKind, Position } from '@blueprintjs/core';\r\n\r\nimport { signInUser } from '../../actions/login';\r\n\r\nclass SignIn extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            isOpen:false,\r\n            email:\"\",\r\n            password:\"\",\r\n        }\r\n    }\r\n\r\n    signIn = (e) => {\r\n        e.preventDefault();\r\n        this.props.signInUser(this.state.email, this.state.password);\r\n    }\r\n\r\n    handleChange = (e) => {        \r\n        this.setState({[e.target.id]:e.target.value})\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <Popover\r\n                interactionKind={PopoverInteractionKind.CLICK}\r\n                popoverClassName=\"bp3-popover-content-sizing\"\r\n                position={Position.BOTTOM}\r\n                target={<button className=\"bp3-button bp3-minimal bp3-icon-log-in\">Log In</button>}\r\n                content={\r\n                <form onSubmit={this.signIn}>\r\n                    <label className=\"bp3-label\">Sign In</label>\r\n                    <InputGroup\r\n                        id={'email'}\r\n                        className=\"popover-input\"\r\n                        type={'email'}\r\n                        placeholder={'Email'}\r\n                        leftIcon={\"user\"}\r\n                        intent={Intent.PRIMARY}\r\n                        onChange={this.handleChange}\r\n                        value={this.state.email}\r\n                        autoFocus\r\n                        />\r\n                    <InputGroup\r\n                        id={'password'}\r\n                        className=\"popover-input\"\r\n                        type={'password'}\r\n                        leftIcon={\"lock\"}\r\n                        placeholder={\"Password\"}\r\n                        intent={Intent.PRIMARY}\r\n                        onChange={this.handleChange}\r\n                        value={this.state.password}\r\n                    /> \r\n                    <Button type=\"submit\" role=\"button\">Sign in</Button>\r\n                </form>\r\n                }\r\n            />\r\n        )}\r\n}\r\n\r\nconst mapStateToProps = (state) => {    \r\n    const { login } = state.data;\r\n    return {\r\n        login\r\n    }\r\n}\r\n  \r\nconst mapDispatchToProps = (dispatch) => {\r\n    return bindActionCreators({ signInUser }, dispatch);\r\n}\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignIn);\r\n","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nexport default class StyledLink extends React.Component{\r\n    render(){\r\n        return(\r\n            <Link style={{textDecoration:'none',color:'#e3e6e4'}} to={this.props.to}>{this.props.content}</Link>\r\n        )}\r\n\r\n}","import React, { Component } from 'react';\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport StyledLink from '../SubComponents/StyledLink';\r\n\r\nimport {signOutUser} from '../../actions/login'\r\n\r\nclass SignOut extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            \r\n        }\r\n    }\r\n\r\n    signout = () => {\r\n        this.props.signOutUser();\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <StyledLink onClick={this.signout} to=\"/\" content={<button className=\"bp3-button bp3-minimal bp3-icon-log-out\" onClick={this.signout}>Logout</button>}/>\r\n        )}\r\n}\r\n\r\nconst mapStateToProps = (state) => {    \r\n    return {\r\n        \r\n    }\r\n}\r\n  \r\nconst mapDispatchToProps = (dispatch) => {\r\n    return bindActionCreators({ signOutUser }, dispatch);\r\n}\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignOut);\r\n","import React, { Component } from 'react';\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport StyledLink from '../SubComponents/StyledLink';\r\nimport { Popover, PopoverInteractionKind, Position , Button, Spinner} from '@blueprintjs/core';\r\nimport SignOut from './SignOut';\r\n\r\nclass UserName extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            this.props.loadUserName?\r\n            <Spinner size={25}/>:\r\n            this.props.userInfo.uid===\"7EtQI6poyZaTq4kuFqfibmVzI5F3\"?\r\n            <Popover\r\n                    className=\"profile-options\"\r\n                    interactionKind={PopoverInteractionKind.HOVER}\r\n                    popoverClassName=\"bp3-popover-content-sizing\"                \r\n                    position={Position.BOTTOM}\r\n                    target={<StyledLink to=\"/admin\" content={<button className=\"bp3-button bp3-minimal bp3-icon-helper-management\">Admin</button>}/> }\r\n                    content={\r\n                        <div className=\"flex flex-column\">\r\n                            <SignOut/>\r\n                        </div>\r\n                    }\r\n                />          \r\n            :<React.Fragment>\r\n                <StyledLink to=\"/map\" content={<button className=\"bp3-button bp3-minimal bp3-icon-map\">Map</button>}/>\r\n                <Popover\r\n                    className=\"profile-options\"\r\n                    interactionKind={PopoverInteractionKind.HOVER}\r\n                    popoverClassName=\"bp3-popover-content-sizing\"                \r\n                    position={Position.BOTTOM}\r\n                    target={<Button rightIcon={\"cog\"} className=\"bp3-button bp3-minimal\">{this.props.userInfo.username}</Button>}\r\n                    content={\r\n                        <div className=\"flex flex-column\">\r\n                            <StyledLink to=\"/profile\" content={<div className=\"bp3-button bp3-minimal bp3-icon-user\">Profile</div>}/>\r\n                            <SignOut/>\r\n                        </div>\r\n                    }\r\n                />\r\n            </React.Fragment>\r\n        )}\r\n}\r\n\r\nconst mapStateToProps = (state) => {    \r\n    const { userInfo } = state.data;\r\n    const { loadUserName } = state.loaders;\r\n    return {\r\n        userInfo,\r\n        loadUserName,\r\n\r\n    }\r\n}\r\n  \r\nconst mapDispatchToProps = (dispatch) => {\r\n    return bindActionCreators({ }, dispatch);\r\n}\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserName);\r\n","import React, { Component } from 'react';\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport {auth} from '../../firebase';\r\nimport { changeLogin } from '../../actions/login'\r\nimport { fetchBookings, fetchCars, fetchInfo } from '../../actions/fetchers'\r\nimport { getGeo } from '../../actions/geo';\r\nimport SignUp from '../LoginComponents/SignUp'\r\nimport SignIn from '../LoginComponents/SignIn'\r\nimport StyledLink from '../SubComponents/StyledLink'\r\nimport UserName from '../LoginComponents/UserName';\r\nimport { Fade } from 'react-reveal'\r\n\r\nclass Header extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            \r\n        }\r\n    }\r\n    \r\n    componentWillMount(){      \r\n        this.props.getGeo(this.props.parkinglot)\r\n        window.localStorage.removeItem(\"LOGIN\")\r\n    }\r\n\r\n    componentDidMount(){\r\n        \r\n        auth.onAuthStateChanged((user)=>{            \r\n            if (user) {                \r\n                this.props.changeLogin(true);\r\n                window.localStorage.setItem(\"LOGIN\",\"yes\")\r\n                this.props.fetchInfo();\r\n                this.props.fetchCars();\r\n                this.props.fetchBookings();\r\n                \r\n            }else{\r\n                this.props.changeLogin(false);\r\n                window.localStorage.removeItem(\"LOGIN\")\r\n            }\r\n        });\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <Fade>\r\n            <nav className={\"bp3-navbar bp3-dark header\"} style={this.props.headerBkg?{color: '#f5f8fa',fontWeight:600,backgroundColor:'rgba(0,0,0,0)', boxShadow:'none'}:{color: '#f5f8fa',backgroundColor:'',boxShadow:''}}>\r\n                <div style={{margin: '0 auto', width: '100%'}}>\r\n                    <div className=\"bp3-navbar-group bp3-align-left\">\r\n                        <StyledLink to=\"/\" content={<div className=\"bp3-navbar-heading\">OptiPark</div>}></StyledLink>\r\n                    </div>\r\n                    <div className=\"bp3-navbar-group bp3-align-right\">\r\n                        <StyledLink to=\"/\" content={<button className=\"bp3-button bp3-minimal bp3-icon-home\">Home</button>}/>\r\n                        <StyledLink to=\"/contact\" content={<button className=\"bp3-button bp3-minimal bp3-icon-annotation\">Contact</button>}/>\r\n\r\n                        <span className=\"bp3-navbar-divider\"></span>\r\n                        {this.props.login&&this.props.userInfo?\r\n                        <React.Fragment>\r\n                            <UserName/>\r\n                        </React.Fragment>\r\n                        :\r\n                        <React.Fragment>\r\n                            <SignIn/>\r\n                            <SignUp/>\r\n                        </React.Fragment>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n            </Fade>\r\n    )}\r\n}\r\n\r\nconst mapStateToProps = (state) => {    \r\n    const { login, userInfo } = state.data;\r\n    const { headerBkg, parkinglot } = state.global\r\n    \r\n    return {\r\n        login,\r\n        userInfo,\r\n        headerBkg,\r\n        parkinglot\r\n    }\r\n}\r\n  \r\nconst mapDispatchToProps = (dispatch) => {\r\n    return bindActionCreators({ fetchInfo, fetchCars, fetchBookings, changeLogin, getGeo }, dispatch);\r\n}\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\r\n","import {fsRef, auth} from '../firebase'\r\n\r\nexport const changeHeaderBkg = (status) => dispatch => {\r\n    dispatch({\r\n        type:'SET-HEADER-BKG',\r\n        payload:status,\r\n    })\r\n}\r\n\r\nexport const submitContactForm = (email, topic, text, date) =>async  dispatch=>{\r\n    fsRef.collection(\"contactForms\").doc(topic).collection(\"forms\").doc(date+\"-\"+email).set({\r\n        text, email, date,\r\n    }).then(()=>{\r\n        dispatch(changeToaster(\"Thank you for your request\",true, \"success\", 1500))\r\n        \r\n    })\r\n    .catch(err=>{\r\n        console.log(\"CONTACT-FORM-ERROR\",err);\r\n        dispatch(changeToaster(\"Error submitting your contact request\",true, \"error\", 1500))\r\n       \r\n    })\r\n}\r\n\r\nexport const addCar = (lp, carName) => async dispatch => {\r\n    fsRef.collection(\"users\").doc(auth.currentUser.uid).collection(\"cars\").doc(lp).set({\r\n        lp,carName,\r\n    })\r\n    dispatch({\r\n        type:'TOASTER',\r\n        message:\"Car added\",\r\n        show:true,\r\n        toastType:\"success\",\r\n        time:1500,\r\n    })\r\n}\r\n\r\nexport const deleteCar = (lp) => async dispatch => {\r\n    fsRef.collection(\"users\").doc(auth.currentUser.uid).collection(\"cars\").doc(lp).delete()\r\n    .then(()=>{\r\n        dispatch(changeToaster(\"Car deleted\",true, \"success\", 1500))\r\n    })\r\n    .catch(()=>{\r\n        dispatch(changeToaster(\"Error deleting the car\",true, \"error\", 1500))\r\n    })\r\n}\r\n\r\nexport const bookSpot = (car, date) => async dispatch => {\r\n    fsRef.collection(\"users\").doc(auth.currentUser.uid).collection(\"bookings\").doc(\"\"+date).set({\r\n        car, date\r\n    })\r\n    dispatch({\r\n        type:'TOASTER',\r\n        message:\"Booked a spot\",\r\n        show:true,\r\n        toastType:\"success\",\r\n        time:1500,\r\n    })\r\n}\r\n\r\nexport const deleteBooking = (id) => async dispatch =>{\r\n    console.log(id);\r\n    \r\n    fsRef.collection(\"users\").doc(auth.currentUser.uid).collection(\"bookings\").doc(\"\"+id).delete()\r\n    .then(()=>{\r\n        dispatch(changeToaster(\"Booking deleted\",true, \"success\", 1500))\r\n    })\r\n    .catch(()=>{\r\n        dispatch(changeToaster(\"Error deleting booking\",true, \"error\", 1500))\r\n    })\r\n}\r\n\r\nexport const changeToaster = (message, show, toastType, time) => dispatch =>{\r\n    dispatch({\r\n        type:'TOASTER',\r\n        message, show, toastType, time\r\n    })\r\n}\r\n\r\nexport const showJoin = (status) => dispatch => {\r\n    console.log(status);\r\n    \r\n    dispatch({\r\n        type:'SHOW-JOIN',\r\n        payload:status,\r\n    })\r\n}","import React, { Component } from 'react';\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport { Link, Element , Events, animateScroll as scroll, scrollSpy, scroller } from 'react-scroll'\r\nimport {Fade} from 'react-reveal'\r\nimport book from '../../images/homepage/book.png'\r\nimport laptopPhone from '../../images/homepage/laptop_phone.png'\r\nimport stats from '../../images/homepage/stats.png'\r\nimport contact from '../../images/homepage/contact.png'\r\n\r\nclass HomeText extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            currDiv:0,\r\n        }\r\n    }\r\n\r\n    handleSetActive = (to) => {\r\n        console.log(\"click\");        \r\n    }\r\n    handleRadioSelected = (e) => {\r\n        console.log(e.target.id.replace(\"div\",\"\"));\r\n        this.setState({currDiv:e.target.id.replace(\"div\",\"\")})\r\n    }\r\n\r\n    render(){\r\n        return(\r\n        <React.Fragment>\r\n            <div className=\"radio-selectors\">\r\n                <Link className=\"radio-selectors-item\" onClick={this.handleRadioSelected} id=\"div0\" style={{backgroundColor:this.props.radioColor}} smooth to={\"div0\"} offset={-50} duration={500} onSetActive={this.handleSetActive}></Link>\r\n                <Link className=\"radio-selectors-item\" onClick={this.handleRadioSelected} id=\"div1\" style={{backgroundColor:this.props.radioColor}} smooth to={\"div1\"} offset={-50} duration={500} onSetActive={this.handleSetActive}></Link>\r\n                <Link className=\"radio-selectors-item\" onClick={this.handleRadioSelected} id=\"div2\" style={{backgroundColor:this.props.radioColor}} smooth to={\"div2\"} offset={-50} duration={500} onSetActive={this.handleSetActive}></Link>\r\n                <Link className=\"radio-selectors-item\" onClick={this.handleRadioSelected} id=\"div3\" style={{backgroundColor:this.props.radioColor}} smooth to={\"div3\"} offset={-50} duration={500} onSetActive={this.handleSetActive}></Link>\r\n            </div>\r\n            <div className=\"sub-container-home\">\r\n                <Element className=\"text-container-home flex\" name=\"div0\">\r\n                    <Fade left><div className=\"text-right\" style={{flex:0.5}}>\r\n                        The simple usage of the map will direct you to the closest available parking spot.\r\n                    </div></Fade>\r\n                    <div style={{flex:0.5}}>\r\n                        <Fade bottom><img src={laptopPhone} className=\"laptop\"/></Fade>\r\n                    </div>\r\n                </Element>\r\n                <Element className=\"text-container-home colored-text-container flex\" name=\"div1\">\r\n                    <div style={{flex:0.5}}>\r\n                        <Fade left><img src={book} className=\"book\"/></Fade>\r\n                    </div>\r\n                    <Fade right><div className=\"text-left\" style={{flex:0.5}}>To ensure a spot is available at your arrival, you can simply book a spot before hand.</div></Fade>\r\n                </Element>\r\n                <Element className=\"text-container-home flex\" name=\"div2\">\r\n                    <Fade left><div style={{flex:0.5}} className=\"text-right\">The web page also hands you the expected demand and availability for the parking lot.</div></Fade>\r\n                    <div style={{flex:0.5}}><Fade right><img src={stats} className=\"laptop\"/></Fade></div>\r\n                </Element>\r\n                <Element className=\"text-container-home colored-text-container flex\" name=\"div3\">\r\n                    <div style={{flex:0.5}}><Fade left><img src={contact} className=\"book\"/></Fade></div>\r\n                    <Fade right><div style={{flex:0.5}} className=\"text-right\">Feel free to contact us either through the contact form, or the live chat if you have questions or need to come in contact.</div></Fade>\r\n                </Element>\r\n            </div>\r\n        </React.Fragment>\r\n        )}\r\n}\r\n\r\nconst mapStateToProps = (state) => {    \r\n    const { } = state;\r\n    return {\r\n        \r\n    }\r\n}\r\n  \r\nconst mapDispatchToProps = (dispatch) => {\r\n    return bindActionCreators({ }, dispatch);\r\n}\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomeText);\r\n","import React, { Component } from 'react';\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport {Fade} from 'react-reveal'\r\nimport { changeHeaderBkg } from '../../actions/global';\r\nimport HomeText from '../SubComponents/HomeText';\r\nimport {Icon, Button} from '@blueprintjs/core'\r\nimport { showJoin } from '../../actions/global';\r\n\r\n\r\nclass Home extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            divRef:1,\r\n            scroll:0,\r\n            radioColor:'white',\r\n            above:true,\r\n            show:false,\r\n            currDiv:0,\r\n        }\r\n    }\r\n\r\n    componentWillMount(){\r\n        this.props.changeHeaderBkg(true)\r\n        window.addEventListener('scroll', this.handleScroll)\r\n        window.addEventListener('mousemove',this.handleMouseMove)\r\n        this.props.showJoin(true);\r\n    }\r\n    componentWillUnmount(){\r\n        this.props.changeHeaderBkg(false)\r\n        window.removeEventListener('scroll', this.handleScroll)\r\n        window.removeEventListener('mousemove',this.handleMouseMove)\r\n\r\n    }\r\n\r\n    handleMouseMove = (e) => {\r\n        if (e.screenY>window.innerHeight&&!this.state.showUp) {\r\n            this.setState({showUp:!this.state.showUp})\r\n        }\r\n        if (e.screenY<window.innerHeight&&this.state.showUp) {\r\n            this.setState({showUp:!this.state.showUp})\r\n        }\r\n        \r\n    }\r\n\r\n    handleScroll = () => {\r\n        if (window.scrollY>200&&this.state.above) {\r\n            this.setState({scroll:window.scrollY, radioColor:'rgb(57, 75, 89)',above:!this.state.above})\r\n        }\r\n        if (window.scrollY<200&&!this.state.above) {\r\n            this.setState({scroll:window.scrollY, radioColor:'white', above:!this.state.above})            \r\n        }\r\n    }\r\n\r\n    handleSetActive = (to) => {\r\n        console.log(\"click\");        \r\n    }\r\n    handleRadioSelected = (e) => {\r\n        console.log(e.target.id.replace(\"div\",\"\"));\r\n        this.setState({currDiv:e.target.id.replace(\"div\",\"\")})\r\n    }\r\n\r\n    scrollTop = () => {\r\n        window.scrollTo({top:0, left:0, behavior:'smooth'});\r\n    }\r\n\r\n    render(){\r\n        \r\n        return(\r\n        <div className=\"home-container\">\r\n            <div className=\"hero\"></div>\r\n            <Fade cascade>\r\n                <div className=\"hero-text\">\r\n                    <div className=\"title-text\"><b><span style={{color:'#4580E6'}}>Opti</span>Park</b></div>\r\n                    <div className=\"title-subtext\">Parking made easy</div>\r\n                </div>\r\n            </Fade>\r\n            <HomeText radioColor={this.state.radioColor}/>\r\n            {this.state.showUp?<Icon style={{color:\"\"}} onClick={this.scrollTop} icon=\"upload\" iconSize={18} className=\"scrollTopIcon showUp\"/>:null}\r\n        </div>\r\n    )}\r\n}\r\n\r\nconst mapStateToProps = (state) => {    \r\n    const { headerBkg } = state.global;\r\n    const { login } = state.data;\r\n    return {\r\n        headerBkg,\r\n        login\r\n    }\r\n}\r\n  \r\nconst mapDispatchToProps = (dispatch) => {\r\n    return bindActionCreators({ changeHeaderBkg, showJoin }, dispatch);\r\n}\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\r\n","import React, { Component } from 'react';\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\n\r\nimport { Icon, Divider, Button, InputGroup, ProgressBar, Spinner } from '@blueprintjs/core'\r\nimport { Col } from 'react-bootstrap'\r\nimport { addCar, deleteCar, deleteBooking } from '../../actions/global';\r\nimport { Link } from 'react-router-dom'\r\nimport { Fade } from 'react-reveal'\r\nimport { updateUserInfo } from '../../actions/login';\r\n\r\nclass Profile extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            carName:\"\",\r\n            regNr:\"\",\r\n            email:\"\",\r\n            username:\"\",\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps){\r\n        if (prevProps.userInfo!==this.props.userInfo) {\r\n            this.setState({\r\n                email:this.props.userInfo.email,\r\n                username: this.props.userInfo.username,\r\n            })\r\n        }\r\n    }\r\n\r\n    handleInput = (e) => {\r\n        this.setState({[e.target.id]:e.target.value})\r\n    }\r\n\r\n    checkTarget = (e) => {\r\n        let type = e.target.tagName;        \r\n        if (type===\"path\") {\r\n            return e.target.parentElement.parentElement.parentElement\r\n        }\r\n        else if (type===\"svg\") {\r\n            return e.target.parentElement.parentElement\r\n        }else if(type===\"DIV\"){\r\n            return e.target\r\n        }\r\n    }\r\n\r\n    addCar = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.regNr!==\"\") {\r\n            console.log(\"ADD CAR\");   \r\n            this.props.addCar(this.state.regNr,this.state.carName)\r\n            this.setState({carName:\"\",regNr:\"\"}) \r\n        }\r\n    }\r\n\r\n    deleteCar = (e) => {\r\n        let target = this.checkTarget(e);\r\n        this.props.deleteCar(target.id)\r\n        \r\n    }\r\n\r\n    deleteBooking = (e) => {\r\n        let target = this.checkTarget(e);\r\n        this.props.deleteBooking(target.id);   \r\n    }\r\n\r\n    updateUserInfo = (e) => {\r\n        e.preventDefault();        \r\n        this.props.updateUserInfo(this.state.email, this.state.username);\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            \r\n            <div className=\"profile-container flex\">\r\n            {this.props.userInfo?\r\n                <React.Fragment>            \r\n                <div className=\"profile-child\">\r\n                    <Icon icon=\"user\"/> User info\r\n                    <Divider/>\r\n                    <form className=\"user-info\" onSubmit={this.updateUserInfo}>\r\n                        <label to=\"email\" className=\"user-info-label\">Email:</label>\r\n                        <InputGroup\r\n                            id={'email'}\r\n                            type={'email'}\r\n                            className=\"user-info-field\"\r\n                            placeholder={'Email'}\r\n                            leftIcon={\"user\"}\r\n                            onChange={this.handleInput}\r\n                            value={this.state.email}\r\n                            autoFocus\r\n                        />\r\n                        <label to=\"usename\" className=\"user-info-label\">Username:</label>\r\n                        <InputGroup\r\n                            id={'username'}\r\n                            type={'text'}\r\n                            className=\"user-info-field\"\r\n                            placeholder={'Username'}\r\n                            leftIcon={\"id-number\"}\r\n                            onChange={this.handleInput}\r\n                            value={this.state.username}\r\n                            autoFocus\r\n                        />\r\n                        <Button type=\"submit\" intent=\"primary\">Update info</Button>\r\n                    </form>\r\n                </div>\r\n                <div className=\"profile-child\">\r\n                    <Icon icon=\"timeline-events\"/>Bookings\r\n                    <Divider/>\r\n                    {this.props.userBookings?Object.keys(this.props.userBookings).map(item=>\r\n                        <Fade bottom>\r\n                            <div className=\"booking-item flex\" key={\"book-\"+item}>\r\n                                <div className=\"book-info\" style={{flex:0.9}}>\r\n                                    <Col><Icon icon=\"calendar\"/>{\" \"+this.props.userBookings[item].niceDate}</Col>\r\n                                    <Col><Icon icon=\"drive-time\"/>{\" \"+this.props.userBookings[item].car}</Col>\r\n                                </div>\r\n                                <div className=\"book-item-hover\" onClick={this.deleteBooking} id={this.props.userBookings[item].date} style={{flex:0.1}}>\r\n                                    <Icon icon=\"trash\" className=\"book-icon\"/>\r\n                                </div>\r\n                            </div>\r\n                        </Fade>\r\n                    ):<div>You haven't booked any spots <Link to=\"/map\"><Icon icon=\"send-to-map\"/></Link></div>}\r\n                </div>\r\n                \r\n                <div className=\"profile-child\">\r\n                    <Icon icon=\"drive-time\"/>Cars\r\n                    <Divider/>\r\n                    <form onSubmit={this.addCar}>\r\n                        <InputGroup\r\n                            id={'regNr'}\r\n                            className=\"regNr-input\"\r\n                            type={'text'}\r\n                            placeholder={'License plate number'}\r\n                            leftIcon={\"unknown-vehicle\"}\r\n                            onChange={this.handleInput}\r\n                            value={this.state.regNr}\r\n                            autoFocus\r\n                        />\r\n                        <InputGroup\r\n                            id={'carName'}\r\n                            className=\"carName-input\"\r\n                            type={'text'}\r\n                            placeholder={'Car name (optional)'}\r\n                            leftIcon={\"manually-entered-data\"}\r\n                            onChange={this.handleInput}\r\n                            value={this.state.carName}\r\n                        />\r\n                        <Button type=\"submit\" role=\"button\" intent=\"primary\" style={{marginTop:'5px',justifyContent:'end'}}>Add car</Button>\r\n                    </form>\r\n                    {this.props.userCars?Object.keys(this.props.userCars).map(item=>\r\n                        <Fade bottom><div className=\"car-item flex\" key={\"car-\"+this.props.userCars[item].lp} >\r\n                            <Icon icon=\"drive-time\" iconSize={20} style={{flex:0.2}}/>\r\n                            <div style={{flex:0.7}}>\r\n                                <div>{\"License: \"+this.props.userCars[item].lp}</div>\r\n                                {this.props.userCars[item].carName?<div>{\"Name: \"+this.props.userCars[item].carName}</div>:null}\r\n                            </div>\r\n                            <div className=\"delete-car\" id={this.props.userCars[item].lp} onClick={this.deleteCar} style={{flex:0.1}}><Icon icon=\"trash\"/></div>\r\n                        </div>\r\n                        </Fade>\r\n                    ):<div>You don't have any cars</div>}\r\n                </div>\r\n                </React.Fragment>\r\n                :<ProgressBar/>}\r\n            </div>\r\n        )}\r\n}\r\n\r\nconst mapStateToProps = (state) => {    \r\n    const { userBookings, userCars, userInfo } = state.data;\r\n    return {\r\n        userBookings,\r\n        userCars,\r\n        userInfo\r\n    }\r\n}\r\n  \r\nconst mapDispatchToProps = (dispatch) => {\r\n    return bindActionCreators({ updateUserInfo, addCar, deleteCar, deleteBooking }, dispatch);\r\n}\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\r\n","class Graph{\r\n\r\n    constructor(noOfVertices){\r\n        this.noOfVertices = noOfVertices;\r\n        this.adjList = new Map();\r\n        \r\n    }\r\n\r\n    addVertex = (v)=>{\r\n        \r\n        this.adjList.set(v,{})        \r\n    }\r\n\r\n    addEdge = (v,w, len, latlnglen) => {\r\n        this.adjList.get(v)[w] = {len, latlnglen};\r\n    }\r\n\r\n    getNode = (node) =>{\r\n        return [...this.adjList.keys()].find((item)=>item=== node);\r\n    }\r\n\r\n    // getNodeValue = (node) => {\r\n    //     return this.adjList.get(node);\r\n    // }\r\n\r\n    getLength = () => {\r\n        return this.adjList.size;\r\n    }\r\n\r\n    printGraph = () => {\r\n        let keys = this.adjList.keys();\r\n        \r\n        for (let i of keys) {            \r\n            let values = this.adjList.get(i);\r\n            let conc = \"\";\r\n\r\n            Object.keys(values).forEach((item)=>{\r\n                conc+=item+\", \";\r\n            })\r\n            console.log(i + \" -> \" + conc);\r\n        }\r\n    }\r\n}\r\n\r\nexport default Graph;","import Graph from './Graph'\r\n\r\nexport const latlngDist = (from, to) => {\r\n    return Math.sqrt(Math.pow(from[0]-to[0],2)+Math.pow(from[1]-to[1],2))\r\n}\r\n\r\nexport const distance = (from, to) =>{    \r\n    let nfrom = [from[0]*Math.PI/180, from[1]*Math.PI/180];\r\n    let nto  = [to[0]*Math.PI/180,to[1]*Math.PI/180];\r\n\r\n    let r = 6371*1000;\r\n    let x1 = r*Math.cos(nfrom[0])*Math.cos(nfrom[1]);\r\n    let x2 = r*Math.cos(nto[0])*Math.cos(nto[1]);\r\n    let y1 = r*Math.cos(nfrom[0])*Math.sin(nfrom[1]);\r\n    let y2 = r*Math.cos(nto[0])*Math.sin(nto[1]);\r\n    let z1 = r*Math.sin(nfrom[0]);\r\n    let z2 = r*Math.sin(nto[0]);\r\n    \r\n    return Math.sqrt(Math.pow(x1-x2,2)+Math.pow(y1-y2,2)+Math.pow(z1-z2,2));\r\n}\r\n\r\nconst lowestCostNode = (costs,processed) => {\r\n    return Object.keys(costs).reduce((lowest, node)=>{\r\n        \r\n        if (lowest===null||costs[node].len < costs[lowest].len) {\r\n            if(!processed.includes(node)){\r\n                lowest = node;\r\n            }\r\n        }\r\n        return lowest;\r\n    },null);\r\n}\r\n\r\n\r\nexport const dijkstra = (g, start, finish) => {\r\n    \r\n    let start_node = g.adjList.get(start);\r\n    let costs = Object.assign({[finish]:{len:Math.pow(10,1000)}},start_node);\r\n    let parents = {[finish]:null};\r\n    \r\n    for (let child in start_node) {\r\n        parents[child] = start\r\n    }\r\n    \r\n    let processed = [];\r\n    let node = lowestCostNode(costs,processed);\r\n\r\n    while(node){\r\n        let cost = costs[node].len;\r\n        let children = g.adjList.get(node);\r\n        \r\n        for (let n in children) {\r\n            let newCost = cost+children[n].len;\r\n            \r\n            if (!costs[n]) {\r\n                \r\n                costs[n] = {len:newCost}\r\n                parents[n] = node;\r\n            }\r\n            if (costs[n].len > newCost) {\r\n                costs[n].len = newCost\r\n                parents[n] = node;\r\n            }\r\n        }\r\n        processed.push(node)\r\n        node = lowestCostNode(costs,processed)\r\n    }\r\n    \r\n    let parent = parents[finish];\r\n    let optimalPath = [[finish,costs[parent].len]];\r\n    while(parent){\r\n        if (costs[parent]) {\r\n            optimalPath.push([parent,costs[parent].len]);    \r\n        }else{\r\n            optimalPath.push([parent,0])\r\n        }\r\n        parent = parents[parent];\r\n    }\r\n\r\n    optimalPath.reverse();\r\n\r\n    const results = {\r\n        distance: costs[finish].len,\r\n        path:optimalPath,\r\n    }\r\n    \r\n    return results;\r\n}\r\n\r\nexport const getClosest = (coord, nodes) => {\r\n    let min = Math.pow(10,1000);\r\n    let closest = \"\";\r\n    Object.keys(nodes).forEach(item=>{\r\n        let node_coord = nodes[item].geometry.coordinates;\r\n        let dist = distance(coord,node_coord);\r\n        if (dist<min) {\r\n            min = dist;\r\n            closest = nodes[item].properties.name;\r\n        }\r\n    })\r\n    return [closest, min];\r\n}\r\n\r\nexport const createJSON = (corners, data,sensors, support, max, entrance, floors) => {\r\n    let json = {\r\n        entrance:[],\r\n        properties:{},\r\n        sensors:{},\r\n        support:{},\r\n    };\r\n    let num_spots = max;\r\n    let num_avaliable = max;\r\n    let status_array = new Array(num_spots).fill(0);\r\n    let processed = [];\r\n    //Updating status of random spots to 1\r\n    for (let i = 0; i < Math.floor(max/2); i++) {\r\n        let rand_index = Math.floor(Math.random()*status_array.length);\r\n        if (!processed.includes(rand_index)) {\r\n            status_array[rand_index] = 1;\r\n            processed.push(rand_index);\r\n            num_avaliable-=1;\r\n        }\r\n    }\r\n    //Setting init lot values\r\n    json.entrance = entrance;\r\n    json.corners = corners;\r\n    json.properties.name = data[1];\r\n    json.properties.floors = floors;\r\n    json.properties.total = num_spots;\r\n    json.properties.avaliable = num_avaliable;\r\n    \r\n    //Adding sensors\r\n    for (let i = 0; i < sensors.length; i++) {\r\n        json.sensors = {\r\n            ...json.sensors,\r\n            [i]:{\r\n                type:\"sensor\",\r\n                properties:{\r\n                    status:status_array[i],\r\n                    floor:1,\r\n                    name:\"s\"+i,\r\n                },\r\n                geometry:{\r\n                    coordinates: sensors[i],\r\n                }\r\n            }\r\n        }\r\n    }\r\n    //Adding support nodes\r\n    for (let i = 0; i < support.length; i++) {\r\n        json.support = {\r\n            ...json.support,\r\n            [i]:{\r\n                type:\"support\",\r\n                properties:{\r\n                    floor:1,\r\n                    name:\"h\"+i,\r\n                },\r\n                geometry:{\r\n                    coordinates: support[i],\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    return json;\r\n}\r\n\r\n\r\nexport const assignSensor = (g, sensors, support, userPos) =>{\r\n        //USE getCurrentPos as input parameter in addUserPosGraph or something when used in app        \r\n        //using entrance as startpoint now\r\n        \r\n        addUserPosGraph(g, userPos, support);\r\n        \r\n        let min_dist = Math.pow(10,1000);\r\n        let sensor = \"\";\r\n        let path = [];\r\n        Object.keys(sensors).forEach((key)=>{\r\n            if (sensors[key].properties.status===0) {\r\n                \r\n                let dijskt = dijkstra(g, g.getNode(\"userPos\"), g.getNode(sensors[key].properties.name));\r\n                let dist = dijskt.distance;\r\n                \r\n                if (dist<min_dist) {\r\n                    min_dist = dist;\r\n                    sensor = sensors[key].properties.name;\r\n                    path = dijskt.path;\r\n                }\r\n            }\r\n        })\r\n\r\n        return [sensor, path];\r\n}\r\nconst addUserPosGraph = (g, pos, support) => {\r\n    \r\n    let closest = getClosest(pos, support);\r\n    g.addVertex(\"userPos\");\r\n    g.addEdge(\"userPos\",closest[0],closest[1],\"\");\r\n}\r\n\r\nexport const createGraph = (sensors, support) => {\r\n    let m = require(\"../adj_matrix.json\");\r\n    m = m.matrix;      \r\n    let g = new Graph();\r\n    let label = m[0];\r\n    for (let i = 1; i < label.length; i++) {\r\n        g.addVertex(label[i]);\r\n    }\r\n    \r\n    for (let i = 1; i < m.length; i++) {\r\n        for (let j = 1; j < m[i].length; j++) {\r\n            if(m[i][j]===1){\r\n                let from = 0;\r\n                let to  = 0;\r\n                \r\n                if(label[i].split(\"\")[0]==='h'){\r\n                    Object.keys(support).forEach(item=>{\r\n                        if (support[item].properties.name===label[i]) {\r\n                            from = support[item].geometry.coordinates;\r\n                        }\r\n                    })\r\n                }\r\n                if(label[j].split(\"\")[0]==='h'){\r\n                    Object.keys(support).forEach(item=>{\r\n                        if (support[item].properties.name===label[j]) {\r\n                            to = support[item].geometry.coordinates;\r\n                        }\r\n                    })\r\n                }\r\n                if(label[i].split(\"\")[0]==='s'){\r\n                    Object.keys(sensors).forEach(item=>{\r\n                        if (sensors[item].properties.name===label[i]) {\r\n                            from = sensors[item].geometry.coordinates;\r\n                        }\r\n                    })\r\n                }\r\n                if(label[j].split(\"\")[0]==='s'){\r\n                    Object.keys(sensors).forEach(item=>{\r\n                        if (sensors[item].properties.name===label[j]) {\r\n                            to = sensors[item].geometry.coordinates;\r\n                        }\r\n                    })\r\n                }\r\n                g.addEdge(label[i],label[j],distance(from,to), latlngDist(from,to))\r\n            }\r\n        }\r\n    }\r\n    \r\n    return g;\r\n}\r\n\r\nexport const getPolyline  = (userPos,path, sensors, support) =>{\r\n    let polyline = [];\r\n    polyline.push(userPos);\r\n    \r\n    Object.keys(path).forEach((item)=>{        \r\n        if (path[item][0].split(\"\")[0]===\"s\") {                \r\n            let nodeCoord = findNodeCoord(sensors,path[item][0])\r\n            polyline.push({lat:nodeCoord[0],lng:nodeCoord[1]});\r\n        }\r\n        if (path[item][0].split(\"\")[0]===\"h\") {\r\n            let nodeCoord = findNodeCoord(support,path[item][0])\r\n            polyline.push({lat:nodeCoord[0],lng:nodeCoord[1]});\r\n        }\r\n    })\r\n    \r\n    return polyline;\r\n    \r\n}\r\n\r\nexport const calcBBox = (points) =>{\r\n    let ul = [Math.pow(10, 1000),-Math.pow(10, 1000)];\r\n    let lr = [-Math.pow(10, 1000),Math.pow(10, 1000)];\r\n    Object.keys(points).forEach((item)=>{\r\n        if (points[item][0]<ul[0]) {\r\n            ul[0] = points[item][0]\r\n        }\r\n        if (points[item][0]>lr[0]) {\r\n            lr[0] = points[item][0]\r\n        }\r\n        if (points[item][1]>ul[1]) {\r\n            ul[1] = points[item][1]\r\n        }\r\n        if (points[item][1]<lr[1]) {\r\n            lr[1] = points[item][1]\r\n        }\r\n    })        \r\n    return [ul, lr];\r\n}\r\n\r\nexport const findNodeCoord = (nodes, nodeName) =>{\r\n    let coord = []\r\n    Object.keys(nodes).find((key)=>{    \r\n        if (nodes[key].properties.name===nodeName) {            \r\n            coord = nodes[key].geometry.coordinates;\r\n        }\r\n    })\r\n    return coord;\r\n}\r\n\r\nexport const findNodeIndex = (nodes, nodeName) => {\r\n    let index = 0;\r\n    Object.keys(nodes).find((key)=>{\r\n        if (nodes[key].properties.name===nodeName) {\r\n            index = key;\r\n        }\r\n    })\r\n    return index;\r\n}\r\n// x=Rcosϕcosλ,y=Rcosϕsinλ,z=Rsinϕ\r\nexport const angleBetweenPoints=(p1,p2)=>{\r\n    \r\n    const dLng = p2.lng - p1.lng;\r\n    const x = Math.cos(p2.lat)*Math.sin(dLng);\r\n    const y = Math.cos(p1.lat)*Math.sin(p2.lat)-Math.sin(p1.lat)*Math.cos(p2.lat)*Math.cos(dLng)\r\n    console.log(x,y);\r\n    \r\n    let bearing = Math.atan2(x,y);\r\n    \r\n    bearing = toDegrees(bearing);\r\n    bearing = (bearing + 360) % 360;\r\n    bearing = 360-bearing;    \r\n    return bearing;\r\n}\r\n\r\nfunction toDegrees(radians){\r\n  var pi = Math.PI;\r\n  return radians * (180/pi);\r\n}\r\n\r\nexport const getDirection = (angle) =>{\r\n    if (angle<90) {\r\n        return 1//\"straigt\"\r\n    }else if(angle<180){\r\n        return 2//\"right\"\r\n    }else if(angle<270){\r\n        return 3//\"backwards\"\r\n    }else{\r\n        return 4//\"left\"\r\n    }\r\n}\r\n\r\nexport const determimeDirection = (dir1,dir2) => {\r\n    let sum = dir1-dir2   \r\n    if (sum===0)return \"straight\"\r\n    else if (sum===-1||sum===3) return \"Right\"\r\n    else if (sum===-2||sum===2) return \"delete\"\r\n    else if (sum===-3||sum===1) return \"Left\"\r\n}","import React, { Component } from 'react';\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\n\r\nimport { Drawer, Icon, Classes, Button, Menu, MenuItem, Divider } from '@blueprintjs/core'\r\nimport { DatePicker } from '@blueprintjs/datetime'\r\nimport { Link } from 'react-router-dom'\r\nimport { bookSpot } from '../../actions/global';\r\n\r\nclass MapDrawer extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            showDrawer:false,\r\n            selectedDate:new Date,\r\n            selectedCar:\"\",\r\n        }\r\n    }\r\n\r\n    checkTarget = (e) => {\r\n        let type = e.target.tagName;    \r\n        console.log(type);\r\n            \r\n        if (type===\"path\") {\r\n            return e.target.parentElement.parentElement.parentElement\r\n        }\r\n        else if (type===\"svg\") {\r\n            return e.target.parentElement.parentElement\r\n        }else if(type===\"A\"){\r\n            return e.target\r\n        }else{\r\n            return e.target.parentElement\r\n        }\r\n    }\r\n\r\n    showDrawer = () => {\r\n        this.setState({showDrawer:!this.state.showDrawer})\r\n    }\r\n\r\n    selectCar = (e) => {\r\n        e.preventDefault();\r\n        let target = this.checkTarget(e);\r\n        this.setState({selectedCar:target.id})\r\n    }\r\n\r\n    handleDate = (date) => {\r\n        this.setState({selectedDate: date})\r\n    }\r\n\r\n    bookSpot = () =>{     \r\n        this.props.bookSpot(this.state.selectedCar, this.state.selectedDate.getTime())\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <React.Fragment>\r\n            <Drawer\r\n                transitionDuration={3000}\r\n                onClose={this.showDrawer}\r\n                title=\"Book a spot!\"\r\n                isOpen={this.state.showDrawer}\r\n\r\n            >\r\n                <div className={Classes.DRAWER_BODY}>\r\n                    <div className={Classes.DIALOG_BODY}>\r\n                    {this.props.userCars?\r\n                    <React.Fragment>\r\n                    <div>Choose a car</div>\r\n                    <Menu className={Classes.ELEVATION_1 + \" car-menu\"}>\r\n                    {Object.keys(this.props.userCars).map((item)=>\r\n                        <MenuItem icon=\"drive-time\" id={this.props.userCars[item].lp} key={this.props.userCars[item].lp} onClick={this.selectCar} text={this.props.userCars[item].carName+\" \"+this.props.userCars[item].lp}/>\r\n                    )}\r\n                    </Menu></React.Fragment>:<div><i>You dont have any cars </i><Link to=\"/profile\"><Icon icon=\"insert\"/></Link></div>}\r\n                    <Divider/>\r\n                    <div>Select a date</div>\r\n                    <DatePicker\r\n                        onChange={this.handleDate}\r\n                        value={this.state.selectedDate}\r\n                        timePrecision=\"minute\"\r\n                    />\r\n                    <Button intent=\"primary\" onClick={this.bookSpot}>Book</Button>\r\n                    \r\n                    </div>\r\n                </div>\r\n                <div className={Classes.DRAWER_FOOTER}></div>\r\n            </Drawer>\r\n            {this.state.showDrawer?null:<div className=\"drawer-teaser\" onClick={this.showDrawer}><Icon className=\"draw-icon\" icon=\"drag-handle-vertical\"/></div>}\r\n            </React.Fragment>\r\n        )}\r\n}\r\n\r\nconst mapStateToProps = (state) => {    \r\n    const { userCars } = state.data;\r\n    return {\r\n        userCars\r\n    }\r\n}\r\n  \r\nconst mapDispatchToProps = (dispatch) => {\r\n    return bindActionCreators({ bookSpot }, dispatch);\r\n}\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(MapDrawer);\r\n","import React, { Component } from 'react';\r\nimport {InputGroup, Button} from '@blueprintjs/core'\r\nimport $ from 'jquery';\r\nimport * as am4core from \"@amcharts/amcharts4/core\";\r\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\r\nimport am4themes_animated from \"@amcharts/amcharts4/themes/animated\";\r\nam4core.useTheme(am4themes_animated);\r\n\r\n\r\n\r\nclass Charts extends Component {\r\n  state = {\r\n    loading: true,\r\n    predictedData: [],\r\n    processedData: [],\r\n    daysBackward: 1,\r\n    daysForward: 1,\r\n    oppositePredictedData: [],\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    let predictedData = [];\r\n    let oppositePredictedData = [];\r\n    fetch(require('../../forecast_data_formatted.txt')).then((r) => r.text()).then((text => {\r\n      //console.log(text.split(','));\r\n      let data_split = text.split('\\n');\r\n      for (let i = 0; i < data_split.length; i++) {\r\n        if (data_split[i].length > 0) {\r\n          let date_split_spots = data_split[i].split(',');\r\n          let date_from_split = new Date(date_split_spots[0]);\r\n          let spots_from_split = 532 - parseInt(date_split_spots[1]);\r\n          //console.log(new Date(date_from_split))\r\n          predictedData.push({ date: date_from_split, value: spots_from_split, color: '#7dabf4' })\r\n          oppositePredictedData.push({ date: date_from_split, value: (532-spots_from_split), color: '#7dabf4' })\r\n          //console.log(spots_from_split)\r\n        }\r\n\r\n      }\r\n      this.setState({\r\n        predictedData: predictedData,\r\n        oppositePredictedData: oppositePredictedData,\r\n      })\r\n      //predictedData.push({date: new Date(), spots: text.split(\",\")[1]})\r\n    }))\r\n\r\n\r\n    //column\r\n    //am4core.useTheme(kelly);\r\n    am4core.useTheme(am4themes_animated);\r\n    // Themes end\r\n\r\n    // Create chart instance\r\n    var chart = am4core.create(\"chartdiv\", am4charts.XYChart3D);\r\n    let dateAxis = chart.xAxes.push(new am4charts.DateAxis());\r\n    dateAxis.dataFields.category = \"date\";\r\n    dateAxis.renderer.grid.template.location = 0;\r\n    dateAxis.renderer.minGridDistance = 40;\r\n\r\n\r\n\r\n    var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\r\n\r\n    // Create series\r\n    var series = chart.series.push(new am4charts.ColumnSeries());\r\n    series.dataFields.valueY = \"value\";\r\n    series.dataFields.dateX = \"date\";\r\n    series.columns.template.propertyFields.fill = \"color\";\r\n    series.columns.template.propertyFields.stroke = \"color\";\r\n    series.name = \"Visits\";\r\n    series.columns.template.tooltipText = \"{categoryX}: [bold]{valueY}[/]\";\r\n    series.columns.template.fillOpacity = .8;\r\n    var columnTemplate = series.columns.template;\r\n    columnTemplate.strokeWidth = 2;\r\n    columnTemplate.strokeOpacity = 1;\r\n\r\n    var that = this;\r\n\r\n\r\n    // AJAX QUERY\r\n\r\n    $.ajax({\r\n      url: \"https://data.smgov.net/resource/tce2-7ir6.json\",\r\n      type: \"GET\",\r\n      data: {\r\n        \"$limit\": 100000,\r\n        \"lot_name\": \"Library\",\r\n        \"$$app_token\": \"Ul8sMHNswBDXCzvlAxpqI6x1Q\",\r\n      },\r\n      dataFilter: function (mydata) {\r\n        var pdata = JSON.parse(mydata);\r\n        let startDate = new Date();\r\n        let endDate = new Date();\r\n        startDate.setDate(startDate.getDate() - 1);\r\n        //var startDate = new Date(\"2019-01-01 23:00:00\");// hard coded :)\r\n        var dateLess = pdata.filter(function (r) {\r\n          //console.log(\"r\",r.date);// each date\r\n          var d = new Date(r['date_time']);\r\n\r\n          return (d.toISOString() >= startDate.toISOString() && d.toISOString() <= endDate.toISOString());\r\n        });\r\n        return JSON.stringify(dateLess);//filtered data\r\n      }\r\n\r\n    }).done(function (data) {\r\n      //alert(\"Retrieved \" + data.length + \" records from the dataset!\");\r\n      let dataProcessed = that.filterData(data, 0);\r\n      chart.data = dataProcessed;\r\n      that.chart = chart;\r\n      that.setState({\r\n        loading: false,\r\n        processedData: dataProcessed,\r\n      })\r\n      that.initiateOtherCharts(data)\r\n    })\r\n  }\r\n\r\n\r\n  initiateOtherCharts = (data) => {\r\n    let chart2 = am4core.create(\"chartdiv2\", am4charts.XYChart);\r\n\r\n\r\n    chart2.paddingRight = 20;\r\n\r\n    // standard stuff\r\n    let dateAxis = chart2.xAxes.push(new am4charts.DateAxis());\r\n    dateAxis.renderer.grid.template.location = 0;\r\n\r\n    let valueAxis = chart2.yAxes.push(new am4charts.ValueAxis());\r\n    valueAxis.tooltip.disabled = true;\r\n    valueAxis.renderer.minWidth = 35;\r\n\r\n    let series = chart2.series.push(new am4charts.LineSeries());\r\n    series.dataFields.dateX = \"date\";\r\n    series.dataFields.valueY = \"value\";\r\n\r\n    series.tooltipText = \"{valueY.value}\";\r\n    chart2.cursor = new am4charts.XYCursor();\r\n\r\n    let scrollbarX = new am4charts.XYChartScrollbar();\r\n    scrollbarX.series.push(series);\r\n    chart2.scrollbarX = scrollbarX;\r\n\r\n    chart2.data = this.filterData(data, 1);\r\n    this.chart2 = chart2;\r\n\r\n  }\r\n\r\n\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      [e.target.id]: e.target.value,\r\n    });\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // MAKE SURE LISTS IT NOT EMPTY WHEN TRYING TO CREATE\r\n    this.loadData();\r\n    // add to the list here\r\n    // console.log(this.state);\r\n  }\r\n\r\n\r\n\r\n  componentWillUnmount() {\r\n    if (this.chart) {\r\n      this.chart.dispose();\r\n    }\r\n  }\r\n\r\n  filterData = (raw_data, number) => {\r\n    if (number === 0) {\r\n      let data = [];\r\n      for (let i = 0; i < raw_data.length; i++) {\r\n        let spots = 532 - parseInt(raw_data[i]['available_spaces'])\r\n        let temp_data = raw_data[i]['date_time']\r\n        if (new Date(temp_data).getMinutes() === 0) {\r\n          data.push({ date: new Date(temp_data), value: spots, color: \"#4181e7\" })\r\n  \r\n        }\r\n  \r\n      }\r\n      data[data.length - 1][\"color\"] = \"#d02878\";\r\n  \r\n      //let sd = [{ date: new Date(2018,11,24), nu: 4}, { date: new Date(2018,11,22), nu: 2}, { date: new Date(2018,11,26), nu: 3}]\r\n      //console.log(sd);\r\n  \r\n      data.sort(function (x, y) { return new Date(x['date']).getTime() - new Date(y['date']).getTime() })\r\n      let lastObject;\r\n      if (data.length > 0) {\r\n        lastObject = data[data.length - 1];\r\n      }\r\n      let endDate = new Date();\r\n      endDate.setDate(lastObject[\"date\"].getDate() + parseInt(this.state.daysForward));\r\n      for (let j = 0; j < this.state.predictedData.length; j++) {\r\n        if ((this.state.predictedData[j][\"date\"] > lastObject[\"date\"]) && this.state.predictedData[j][\"date\"] <= endDate) {\r\n          if (this.state.predictedData[j][\"date\"].getMinutes() === 0) {\r\n            data.push((this.state.predictedData[j]))\r\n          }\r\n        }\r\n      }\r\n  \r\n  \r\n      return data\r\n    } else {\r\n      let data2 = [];\r\n      \r\n    for (let i = 0; i < raw_data.length; i++) {\r\n      let spots = parseInt(raw_data[i]['available_spaces'])\r\n      let temp_data = raw_data[i]['date_time']\r\n        data2.push({ date: new Date(temp_data), value: spots, color: \"#4181e7\" })\r\n\r\n\r\n    }\r\n    data2[data2.length - 1][\"color\"] = \"#d02878\";\r\n\r\n    //let sd = [{ date: new Date(2018,11,24), nu: 4}, { date: new Date(2018,11,22), nu: 2}, { date: new Date(2018,11,26), nu: 3}]\r\n    //console.log(sd);\r\n\r\n    data2.sort(function (x, y) { return new Date(x['date']).getTime() - new Date(y['date']).getTime() })\r\n    let lastObject;\r\n    if (data2.length > 0) {\r\n      lastObject = data2[data2.length - 1];\r\n    }\r\n    let endDate = new Date();\r\n    endDate.setDate(lastObject[\"date\"].getDate() + parseInt(this.state.daysForward));\r\n    \r\n    for (let j = 0; j < this.state.oppositePredictedData.length; j++) {\r\n      if ((this.state.oppositePredictedData[j][\"date\"] > lastObject[\"date\"]) && this.state.oppositePredictedData[j][\"date\"] <= endDate) {\r\n          data2.push(this.state.oppositePredictedData[j])\r\n      }\r\n    }\r\n\r\n\r\n    return data2\r\n    }\r\n\r\n    \r\n\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n          <h2>{this.state.loading ? <div class=\"lds-ring\"><div></div><div></div><div></div><div></div></div> : null}</h2>\r\n          <div className=\"subtext__container\">\r\n            {this.state.loading ?  null : <div className=\"subtext\">Parking lot demand</div>}\r\n          </div>\r\n          <div className=\"chart1\" id=\"chartdiv\" style={{ height: \"150px\", maxWidth:'30vw' }}></div>\r\n          <div className=\"subtext__container\" style={{marginTop: \"10px\", marginBottom: \"0px\"}}>\r\n            {this.state.loading ?  null : <div className=\"subtext\">Number of available spots</div>}\r\n          </div>\r\n            <form className=\"flex\" onSubmit={this.handleSubmit} >\r\n              <InputGroup type=\"text\" placeholder=\"Enter backwards\"  id=\"daysBackward\" onChange={this.handleChange} />\r\n              <InputGroup type=\"text\" placeholder=\"Enter forwards\" id=\"daysForward\" onChange={this.handleChange}  />\r\n            </form>\r\n          <div id=\"chartdiv2\" style={{ width: \"90%\", height: \"200px\" }}></div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  loadData = () => {\r\n    let predictedData = []\r\n    \r\n    let chart2 = am4core.create(\"chartdiv2\", am4charts.XYChart);\r\n\r\n\r\n    chart2.paddingRight = 20;\r\n\r\n    // standard stuff\r\n    let dateAxis = chart2.xAxes.push(new am4charts.DateAxis());\r\n    dateAxis.renderer.grid.template.location = 0;\r\n\r\n    let valueAxis = chart2.yAxes.push(new am4charts.ValueAxis());\r\n    valueAxis.tooltip.disabled = true;\r\n    valueAxis.renderer.minWidth = 35;\r\n\r\n    let series = chart2.series.push(new am4charts.LineSeries());\r\n    series.dataFields.dateX = \"date\";\r\n    series.dataFields.valueY = \"value\";\r\n\r\n    series.tooltipText = \"{valueY.value}\";\r\n\r\n\r\n    chart2.cursor = new am4charts.XYCursor();\r\n\r\n    let scrollbarX = new am4charts.XYChartScrollbar();\r\n    scrollbarX.series.push(series);\r\n    chart2.scrollbarX = scrollbarX;\r\n\r\n\r\n\r\n    var that = this;\r\n\r\n\r\n    // AJAX QUERY\r\n\r\n    $.ajax({\r\n      url: \"https://data.smgov.net/resource/tce2-7ir6.json\",\r\n      type: \"GET\",\r\n      data: {\r\n        \"$limit\": 100000,\r\n        \"lot_name\": \"Library\",\r\n        \"$$app_token\": \"Ul8sMHNswBDXCzvlAxpqI6x1Q\",\r\n      },\r\n      dataFilter: function (mydata) {\r\n        var pdata = JSON.parse(mydata);\r\n        let startDate = new Date();\r\n        let endDate = new Date();\r\n        startDate.setDate(startDate.getDate() - parseInt(that.state.daysBackward));\r\n        //var startDate = new Date(\"2019-01-01 23:00:00\");// hard coded :)\r\n        var dateLess = pdata.filter(function (r) {\r\n          //console.log(\"r\",r.date);// each date\r\n          var d = new Date(r['date_time']);\r\n\r\n          return (d.toISOString() >= startDate.toISOString() && d.toISOString() <= endDate.toISOString());\r\n        });\r\n        return JSON.stringify(dateLess);//filtered data\r\n      }\r\n\r\n    }).done(function (data) {\r\n      //alert(\"Retrieved \" + data.length + \" records from the dataset!\");\r\n      let dataProcessed2 = that.filterData(data, 1);\r\n      chart2.data = dataProcessed2;\r\n      that.chart2 = chart2;\r\n      that.setState({\r\n        loading: false,\r\n      })\r\n    })\r\n\r\n\r\n  }\r\n}\r\n\r\nexport default Charts;\r\n","import React, { Component } from 'react';\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport {Redirect} from 'react-router-dom'\r\nimport { Map, TileLayer, Marker, Polyline} from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport {createGraph,assignSensor, getPolyline, findNodeCoord, angleBetweenPoints, getDirection, determimeDirection, findNodeIndex, distance, calcBBox} from '../../functions/DirectFunctions';\r\nimport { ProgressBar, Drawer } from '@blueprintjs/core'\r\nimport { toast } from 'react-toastify'\r\nimport MapDrawer from '../SubComponents/MapDrawer';\r\nimport rightIcon from '../../images/rightIcon.png';\r\nimport leftIcon from '../../images/leftIcon.png';\r\nimport Charts from '../SubComponents/Charts';\r\n\r\nconst userIcon = new L.Icon({\r\n    iconUrl:require('../../images/carIcon2.png'),\r\n    iconSize:[30,30],\r\n})\r\n\r\nconst nodeIcon = new L.Icon({\r\n    iconUrl:require('../../images/node.png'),\r\n    iconSize:[10,10],\r\n})\r\n\r\nconst sensorIconSize = [15,15];\r\n\r\nconst sensorIconAvaliable = new L.Icon({\r\n    iconUrl:require('../../images/avaliable.png'),\r\n    iconSize:sensorIconSize,\r\n});\r\n\r\nconst sensorIconTaken = new L.Icon({\r\n    iconUrl:require('../../images/taken.png'),\r\n    iconSize:sensorIconSize,\r\n});\r\n\r\nclass MapComponent extends Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            loadingMap:true,\r\n            currPos:{lat:0,lng:0},\r\n            direction:'straight',\r\n            showDrawer:false,\r\n\r\n        }\r\n    }\r\n\r\n    componentWillMount(){\r\n        if(this.props.sensors&&this.props.support&&this.props.corners)this.setState({g:createGraph(this.props.sensors, this.props.support),bbox: calcBBox(this.props.corners), loadingMap:!this.state.loadingMap})        \r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState){\r\n        if (prevProps.sensors!==this.props.sensors) {            \r\n            if(this.props.sensors&&this.props.support&&this.props.corners&&this.state.loadingMap)this.setState({g:createGraph(this.props.sensors, this.props.support),bbox: calcBBox(this.props.corners), loadingMap:!this.state.loadingMap})        \r\n        }\r\n        if (prevState.currPos!=this.state.currPos) {\r\n            this.assignSensor();    \r\n       }\r\n    }\r\n\r\n\r\n    assignSensor = () =>{\r\n        const assigned = assignSensor(this.state.g,this.props.sensors,this.props.support,[this.state.currPos.lat,this.state.currPos.lng])\r\n        const spot = assigned[0];\r\n        const path  = assigned[1];\r\n        console.log(spot,path);\r\n        \r\n        if(spot.length===0&& path.length===0){\r\n            toast(\"The parking lot is full\",{\r\n                type: toast.TYPE.ERROR,\r\n                autoClose: 1500,\r\n            })\r\n        }\r\n                \r\n        if (distance([this.state.currPos.lng, this.state.currPos.lng],findNodeCoord(this.props.sensors,spot))<4) {\r\n            this.props.changeSpotStatus(\"Library\", findNodeIndex(this.props.sensors,spot),1);\r\n            this.setState({path:null, direction:null, currDistance:null, spot, totDistance:null,showDistance:false, latlngs:null})\r\n            return null;\r\n        }\r\n        \r\n\r\n        //Finding point coordinates to find angle between first->second, and second-> third\r\n        let p1 = this.getNodeCoord(path[1][0]);\r\n        let p2 = this.getNodeCoord(path[2][0]);\r\n        console.log(p1,p2);\r\n        let dir1 = getDirection(angleBetweenPoints(this.state.currPos,p1));\r\n        let dir2 = getDirection(angleBetweenPoints(p1,p2));\r\n        console.log(dir1, dir2);\r\n        \r\n        let direction = determimeDirection(dir1,dir2); \r\n        \r\n        if (direction===\"delete\") {\r\n            path.splice(1,1);\r\n        }\r\n        \r\n        let dist = 0;\r\n        for (let i = 1; i < path.length-1; i++) {\r\n            p1 = this.getNodeCoord(path[i][0]);\r\n            p2 = this.getNodeCoord(path[i+1][0]);\r\n            dir1 = getDirection(angleBetweenPoints(this.state.currPos,p1));\r\n            dir2 = getDirection(angleBetweenPoints(p1,p2));\r\n            direction = determimeDirection(dir1,dir2); \r\n            dist = path[i][1];            \r\n            if (direction===\"Right\"||direction===\"Left\") {\r\n                break\r\n            }\r\n        }\r\n        \r\n        this.setState({\r\n            path,\r\n            spot,\r\n            show:this.state.showDistance?false:true,\r\n            showDistance:true,\r\n            totDistance:path[path.length-1][1],\r\n            currDistance:dist,\r\n            direction,\r\n            directionIcon:direction===\"Right\"?rightIcon:leftIcon,\r\n            latlngs:getPolyline(this.state.currPos,assigned[1], this.props.sensors, this.props.support),\r\n                    \r\n        },\r\n        )\r\n    }\r\n\r\n    getNodeCoord = (nodeName) => {\r\n        let coord = {}\r\n        if (nodeName.split(\"\")[0]===\"h\") {\r\n            coord = findNodeCoord(this.props.support,nodeName)\r\n            coord = {lat:coord[0],lng:coord[1]}\r\n        }\r\n        if (nodeName.split(\"\")[0]===\"s\") {\r\n            coord = findNodeCoord(this.props.sensors,nodeName)\r\n            coord = {lat:coord[0],lng:coord[1]}\r\n        }\r\n        return coord\r\n    }\r\n\r\n    changeUserPos = (map) => {\r\n        const lat = map.latlng.lat;\r\n        const lng = map.latlng.lng;        \r\n        this.setState({currPos:{lat, lng}})\r\n    }\r\n\r\n    showNode = (e) => {\r\n        console.log(e.target.options.id);\r\n        \r\n    }\r\n\r\n    render(){\r\n        if (!this.props.login) {\r\n            return <Redirect to=\"/\"/>\r\n        }\r\n        return(\r\n        <div className=\"map-container flex\">\r\n            <div className=\"chart-container\">\r\n                <Charts/>\r\n            </div>\r\n            {this.state.loadingMap?\r\n            <div className=\"progressBar\">Loading map<ProgressBar/></div>\r\n            :<Map bounds={this.state.bbox} style={{width:\"100%\", height:'100%', zIndex:2,flex:0.7, minWidth:'70%'}} onClick={this.changeUserPos}>\r\n                <TileLayer\r\n                    attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                />\r\n                {this.state.path&&this.state.latlngs?\r\n                    <Polyline\r\n                    positions={this.state.latlngs}\r\n                    weight={5}\r\n                    />\r\n                :null}\r\n                {Object.keys(this.props.sensors).map((item)=>\r\n                    <Marker id={this.props.sensors[item].properties.name} onClick={this.showNode} key={item} position={[this.props.sensors[item].geometry.coordinates[0],this.props.sensors[item].geometry.coordinates[1]]} icon={this.props.sensors[item].properties.status===0?sensorIconAvaliable:sensorIconTaken}></Marker>\r\n                )}\r\n                {this.state.path&&this.state.latlngs?\r\n                    Object.keys(this.state.path).map((key)=>{\r\n                        let coord = []                        \r\n                        if (this.state.path[key][0].split(\"\")[0]===\"h\") {\r\n                            coord = findNodeCoord(this.props.support,this.state.path[key][0])\r\n                            let index = findNodeIndex(this.props.support,this.state.path[key][0])\r\n                            let name = this.props.support[index].properties.name;\r\n                            \r\n                            return(\r\n                            <Marker id={name} onClick={this.showNode} key={\"supp\"+key} position={{lat:coord[0],lng:coord[1]}} icon={nodeIcon}/>\r\n                            )\r\n                        }\r\n                    })\r\n                :null}\r\n                <Marker icon={userIcon} position={this.state.currPos}/>\r\n            </Map>}\r\n            {this.state.totDistance?<div className=\"total-distance\"></div>:null}\r\n            {this.state.directionIcon&&this.state.totDistance&&this.state.currDistance?\r\n            <div className=\"direction-container\">\r\n                <img className=\"direction-icon\" src={this.state.directionIcon}/>\r\n                <div className=\"distance-curr\">{\"in \"+this.state.currDistance.toFixed(0)+\" meters\"}</div>\r\n                <div className=\"distance-tot\">{\"Distance to goal: \"+this.state.totDistance.toFixed(0)+\"m\"}</div>\r\n            </div>:null}\r\n            <MapDrawer/>\r\n        </div>\r\n    )}\r\n}\r\n\r\nconst mapStateToProps = (state) => {    \r\n    const { login, userInfo, support, sensors, corners } = state.data;\r\n    return {\r\n        login,\r\n        userInfo,\r\n        support,\r\n        sensors,\r\n        corners\r\n    }\r\n}\r\n  \r\nconst mapDispatchToProps = (dispatch) => {\r\n    return bindActionCreators({ }, dispatch);\r\n}\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(MapComponent);\r\n","import {fsRef, auth} from '../firebase'\r\n\r\nexport const newChat = () => async dispatch=>{\r\n    let admin = \"7EtQI6poyZaTq4kuFqfibmVzI5F3\";\r\n    let initDate = new Date().getTime();\r\n    fsRef.collection(\"chats\").doc(\"\"+initDate).set({\r\n        users:{uid:auth.currentUser.uid, name:auth.currentUser.email.split(\"@\")[0], admin}, initDate\r\n    })\r\n    .then(()=>{\r\n        let format_date = new Date(initDate).toLocaleString();\r\n        format_date = format_date.slice(0,format_date.length-3)\r\n        fsRef.collection(\"chats\").doc(\"\"+initDate).collection(\"chat\").doc(\"\"+initDate).set({\r\n            post:\"Welcome. Feel free to ask about the website\",date:format_date, uid:admin\r\n        })\r\n    })\r\n    .then(()=>{\r\n        fsRef.collection(\"chats\").doc(\"\"+initDate).onSnapshot((doc)=>{\r\n            dispatch({\r\n                type:'GET-CHAT',\r\n                payload:doc.data(),\r\n            })\r\n        })\r\n    })\r\n    .then(()=>{\r\n        fsRef.collection(\"chats\").doc(\"\"+initDate).collection(\"chat\").onSnapshot((docs)=>{\r\n            let messages = []\r\n            docs.forEach((doc)=>{\r\n                messages.push(doc.data())\r\n            })\r\n            if (messages.length>0) {\r\n                \r\n                dispatch({\r\n                    type:'CURRENT-CHAT',\r\n                    payload:messages,\r\n                })       \r\n            }\r\n        })\r\n    })\r\n}\r\n\r\nexport const addPost = (initDate, post, uid) => async dispatch => {\r\n    let date = new Date().getTime();\r\n    let format_date = new Date(date).toLocaleString();\r\n    format_date = format_date.slice(0,format_date.length-3)    \r\n    fsRef.collection(\"chats\").doc(\"\"+initDate).collection(\"chat\").doc(\"\"+date).set({\r\n        post, date:format_date, createdBy:uid\r\n    })\r\n}\r\n\r\nexport const getAllChats = () => async dispatch =>{\r\n    fsRef.collection(\"chats\").onSnapshot((docs)=>{\r\n        let chats = []\r\n        docs.forEach(doc=>{\r\n            chats.push(doc.data())\r\n        })\r\n        if (chats.length>0) {\r\n            dispatch({\r\n                type:'ALL-CHATS',\r\n                payload:chats,\r\n            })\r\n        }\r\n    })\r\n}\r\n\r\nexport const getChat = (initDate) => async dispatch => {\r\n    fsRef.collection(\"chats\").doc(\"\"+ initDate).collection(\"chat\").onSnapshot((docs)=>{\r\n        let messages = []\r\n        docs.forEach(doc=>{\r\n            messages.push(doc.data())\r\n        })\r\n        if (messages.length>0) {\r\n            dispatch({\r\n                type:'CURRENT-CHAT',\r\n                payload:messages,\r\n            })\r\n        }\r\n    })\r\n}\r\n\r\nexport const closeChat = () => async dispatch => {\r\n    dispatch({\r\n        type:'CURRENT-CHAT',\r\n        payload:null,\r\n    })\r\n}","import React, { Component } from 'react';\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\n\r\nimport { Icon , InputGroup, Spinner } from '@blueprintjs/core';\r\nimport { newChat, addPost, closeChat } from '../../actions/chat';\r\nimport $ from 'jquery'\r\nimport Fade from 'react-reveal'\r\n\r\nclass Chat extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            show:false,\r\n            text:\"\",\r\n        }\r\n    }\r\n\r\n\r\n    componentDidUpdate(prevProps){\r\n        if(prevProps.chatMessages!==this.props.chatMessages){\r\n            this.scrollSmoothToBottom();\r\n        }\r\n    }\r\n\r\n    handleShow = () => {\r\n        this.setState({show:!this.state.show})\r\n    }\r\n\r\n    startChat = () => {\r\n        if(!this.state.show)this.props.newChat(this.props.userInfo.uid)\r\n        this.setState({show:!this.state.show})\r\n    }\r\n\r\n    addMessage = (e) => {\r\n        e.preventDefault();\r\n        this.props.addPost(this.props.chatInfo.initDate, this.state.text, this.props.userInfo.uid)\r\n        this.setState({text:\"\"})\r\n    }\r\n\r\n    handleText = (e) => {\r\n        this.setState({\r\n            text:e.target.value,\r\n        })\r\n    }\r\n\r\n    scrollSmoothToBottom = () => {\r\n        if (this.props.chatMessages) {\r\n            var div = document.getElementById(\"chat-window\");\r\n            $('#chat-window').animate({\r\n            scrollTop: div.scrollHeight - div.clientHeight\r\n            }, 50);\r\n        }  \r\n    }\r\n\r\n    closeChat = () => {\r\n        this.setState({show:!this.state.show, text:\"\"})\r\n        this.props.closeChat();\r\n    }\r\n\r\n    render(){   \r\n        return(\r\n            // LAG EGEN POPOVER\r\n            <React.Fragment>\r\n                {this.props.userInfo?<Icon icon=\"chat\" onClick={this.state.show?this.closeChat:this.startChat} intent=\"primary\" iconSize=\"22\" className=\"chat-icon\"/>:null}\r\n                {this.state.show?<Fade right><div className=\"chat-container\">\r\n                    <div style={{textAlign:'end', color:'white', cursor:'pointer', marginBottom:'5pxw'}} onClick={this.closeChat}><Icon icon=\"cross\" /></div>\r\n                    <div className=\"chat-window\" id=\"chat-window\">\r\n                        {this.props.chatMessages?\r\n                            Object.keys(this.props.chatMessages).map((item)=>\r\n                                this.props.chatMessages[item].createdBy===this.props.userInfo.uid?\r\n                                <React.Fragment key={\"m-\"+item}>\r\n                                <div className=\"chat-message you\">\r\n                                    <div>{this.props.chatMessages[item].post}</div>\r\n                                </div>\r\n                                <div className=\"message-date-you\">{\"Sent: \" + this.props.chatMessages[item].date}</div>\r\n                                </React.Fragment>\r\n                                :\r\n                                <React.Fragment key={\"m-\"+item}>\r\n                                <div className=\"chat-message receiver\">\r\n                                    <div>{this.props.chatMessages[item].post}</div>\r\n                                </div> \r\n                                <div className=\"message-date-receiver\">{\"Sent: \" + this.props.chatMessages[item].date}</div>\r\n                                </React.Fragment>\r\n                            )\r\n                        :<Spinner size={25}/>}\r\n                    </div>\r\n                    <form onSubmit={this.addMessage}>\r\n                        <InputGroup placeholder=\"Start say something\" value={this.state.text} onChange={this.handleText}/>\r\n                    </form>\r\n                </div></Fade>:null}\r\n            </React.Fragment>\r\n        )}\r\n}\r\n\r\nconst mapStateToProps = (state) => {    \r\n    const { userInfo } = state.data;\r\n    const { chatInfo, chatMessages } = state.global;\r\n    \r\n    return {\r\n        userInfo,\r\n        chatInfo,\r\n        chatMessages,\r\n    }\r\n}\r\n  \r\nconst mapDispatchToProps = (dispatch) => {\r\n    return bindActionCreators({ newChat, addPost, closeChat }, dispatch);\r\n}\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(Chat);\r\n\r\n","import React, { Component } from 'react';\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport {TextArea, InputGroup, Radio, RadioGroup, Button, Icon} from '@blueprintjs/core'\r\nimport { submitContactForm } from '../../actions/global';\r\nimport { Fade } from 'react-reveal'\r\nimport Chat from '../SubComponents/Chat';\r\nimport { showJoin } from '../../actions/global';\r\n\r\nclass Contact extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            text : \"\",\r\n            topic:1,\r\n            topicText:\"Bug\",\r\n            email:\"\",\r\n        }\r\n    }\r\n    componentWillMount(){\r\n        if (this.props.userInfo) {\r\n            this.setState({email:this.props.userInfo.email})\r\n        }\r\n        this.props.showJoin(false);\r\n\r\n    }\r\n\r\n    componentDidUpdate(prevProps){\r\n        if (prevProps.userInfo!==this.props.userInfo) {\r\n            this.setState({email:this.props.userInfo.email})\r\n        }\r\n    }\r\n\r\n    submitContactForm = () => {\r\n        if(!this.props.showToast){\r\n            this.props.submitContactForm(this.state.email, this.state.topicText, this.state.text, new Date().getTime())        \r\n            this.setState({\r\n                text : \"\",\r\n                topic:1,\r\n                topicText:\"Bug\",\r\n                email:\"\",\r\n            })\r\n        }\r\n    }\r\n\r\n    handleTopicChange = (e) => {       \r\n        console.log(e.target);\r\n              \r\n        this.setState({topic:parseInt(e.target.value),topicText:e.target.id})\r\n    }\r\n\r\n    handleText = (e) => {\r\n        this.setState({[e.target.id]:e.target.value})\r\n    }\r\n\r\n    render(){\r\n        console.log(this.state.topicText);\r\n        \r\n        return(\r\n        <div className=\"container contact-container flex\">\r\n            <Fade><div className=\"info-container equal-child\">\r\n                <h4>Contact info</h4>\r\n                {/* <hr/> */}\r\n                <div>Address:</div>\r\n                <i className=\"\">Univercity of California, Santa Barbara, 93117 Goleta</i>\r\n                <div>Mobile:</div>\r\n                <i>+1 111 222 3344</i>\r\n                <hr/>\r\n                <div className=\"\">Opening Hours:</div>\r\n                <div className=\"opening-hours flex\"><div className=\"oh-day\">Mon: </div><div className=\"oh-hour\">10:00am-5:00pm</div></div>\r\n                <div className=\"opening-hours flex\"><div className=\"oh-day\">Tue: </div><div className=\"oh-hour\">10:00am-5:00pm</div></div>\r\n                <div className=\"opening-hours flex\"><div className=\"oh-day\">Wed: </div><div className=\"oh-hour\">10:00am-5:00pm</div></div>\r\n                <div className=\"opening-hours flex\"><div className=\"oh-day\">Thu: </div><div className=\"oh-hour\">10:00am-5:00pm</div></div>\r\n                <div className=\"opening-hours flex\"><div className=\"oh-day\">Fri: </div><div className=\"oh-hour\">10:00am-5:00pm</div></div>\r\n                <div className=\"opening-hours flex\"><div className=\"oh-day\">Sat: </div><div className=\"oh-hour\" style={{color:'red'}}>Closed</div></div>\r\n                <div className=\"opening-hours flex\"><div className=\"oh-day\">Sun: </div><div className=\"oh-hour\" style={{color:'red'}}>Closed</div></div>\r\n                <hr/>\r\n            </div></Fade>\r\n            <span className=\"bp3-navbar-divider\"></span>\r\n            <Fade><div className=\"contact-form-container\">\r\n                <h3>Contact Form</h3>\r\n                <RadioGroup\r\n                    name=\"Choose topic\"\r\n                    onChange={this.handleTopicChange}\r\n                    selectedValue={this.state.topic}\r\n                    inline\r\n                >   \r\n                    <div>Choose a topic</div>\r\n                    <Radio label=\"Bug\" id=\"Bug\" value={1}/>\r\n                    <Radio label=\"Question\" id=\"Question\" value={2} />\r\n                    <Radio label=\"Other..\" id=\"Other..\" value={3} />\r\n                </RadioGroup>\r\n                <InputGroup\r\n                    id={\"email\"}\r\n                    className=\"contact-email-input\"\r\n                    value = {this.state.email}\r\n                    onChange = {this.handleText}\r\n                    placeholder=\"Enter email\"\r\n                />\r\n                <TextArea\r\n                    id={\"text\"}\r\n                    className=\"contact-text\"\r\n                    onChange={this.handleText}\r\n                    value={this.state.text}\r\n                    fill={true}\r\n                    large\r\n                />\r\n                <Button type=\"\" onClick={this.submitContactForm}>Submit form</Button>\r\n            </div></Fade>\r\n            <Chat/>\r\n        </div>\r\n    )}\r\n}\r\n\r\nconst mapStateToProps = (state) => {    \r\n    const { userInfo } = state.data;\r\n    const { showToast } = state.loaders\r\n    return {\r\n        userInfo,\r\n        showToast,\r\n    }\r\n}\r\n  \r\nconst mapDispatchToProps = (dispatch) => {\r\n    return bindActionCreators({ submitContactForm, showJoin }, dispatch);\r\n}\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(Contact);\r\n","import React, { Component } from 'react';\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport { Colors } from '@blueprintjs/core';\r\nimport { changeToaster } from '../../actions/global';\r\n\r\nclass Footer extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            \r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps){\r\n        if (prevProps.showToast!==this.props.showToast) {\r\n            if (this.props.showToast) {\r\n                let toastType = this.props.toastType;\r\n                let obj = {\r\n                    autoClose:this.props.toastTime,\r\n                    position: toast.POSITION.BOTTOM_CENTER,\r\n                }\r\n                if (toastType===\"success\") {\r\n                    obj.type = toast.TYPE.SUCCESS;\r\n                }\r\n                if (toastType===\"error\") {\r\n                    obj.type = toast.TYPE.ERROR;\r\n                }\r\n                if(toastType===\"default\"){\r\n                    obj.type = toast.TYPE.DEFAULT;\r\n                }\r\n                toast(this.props.toastMessage,obj)\r\n                setTimeout(() => {\r\n                    this.props.changeToaster(\"\",false,\"\")\r\n                }, this.props.toastTime);\r\n            }\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return(\r\n        <div className=\"footer\" style={{backgroundColor:Colors.DARK_GRAY5, height:'50px'}}>\r\n            <ToastContainer/>\r\n        </div>\r\n    )}\r\n}\r\n\r\nconst mapStateToProps = (state) => {    \r\n    const { showToast, toastMessage, toastType, toastTime } = state.loaders;\r\n    return {\r\n        showToast,\r\n        toastMessage,\r\n        toastType,\r\n        toastTime,\r\n    }\r\n}\r\n  \r\nconst mapDispatchToProps = (dispatch) => {\r\n    return bindActionCreators({ changeToaster }, dispatch);\r\n}\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(Footer);\r\n","import React, { Component } from 'react';\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport Charts from '../SubComponents/Charts';\r\n\r\nclass Statistics extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            \r\n        }\r\n    }\r\n\r\n    render(){\r\n        return(\r\n        <div className=\"stat-container\">\r\n            <Charts/>\r\n        </div>\r\n    )}\r\n}\r\n\r\nconst mapStateToProps = (state) => {    \r\n    return {\r\n        \r\n    }\r\n}\r\n  \r\nconst mapDispatchToProps = (dispatch) => {\r\n    return bindActionCreators({ }, dispatch);\r\n}\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(Statistics);\r\n","import React, { Component } from 'react';\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\n\r\nimport { Spinner, InputGroup } from '@blueprintjs/core'\r\nimport { getAllChats, getChat, addPost } from '../../actions/chat';\r\nimport { getUser } from '../../actions/login';\r\nimport $ from 'jquery'\r\n\r\nclass Admin extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            text:\"\",\r\n            currInit:0,\r\n        }\r\n    }\r\n\r\n    componentWillMount(){\r\n        this.props.getAllChats();\r\n    }\r\n\r\n    componentDidUpdate(prevProps){\r\n        if(prevProps.chatMessages!==this.props.chatMessages){\r\n            this.scrollSmoothToBottom();\r\n        }\r\n    }\r\n\r\n    getCurrChat = (e) => {\r\n        this.props.getChat(e.target.id);\r\n        this.setState({currInit:e.target.id})\r\n    }\r\n\r\n    addMessage = (e) => {\r\n        e.preventDefault();\r\n        this.props.addPost(this.state.currInit, this.state.text, this.props.userInfo.uid)\r\n        this.setState({text:\"\"})\r\n    }\r\n\r\n    handleText = (e) => {\r\n        this.setState({\r\n            text:e.target.value,\r\n        })\r\n    }\r\n\r\n    scrollSmoothToBottom = () => {\r\n        var div = document.getElementById(\"admin-chat\");\r\n        $('#admin-chat').animate({\r\n           scrollTop: div.scrollHeight - div.clientHeight\r\n        }, 50);\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"admin-container flex\">\r\n                {this.props.allChats?\r\n                <React.Fragment>\r\n                <div className=\"display-chats\" style={{flex:1}}>\r\n                    {Object.keys(this.props.allChats).map(item=>\r\n                        <div key={\"chat-\"+item} id={this.props.allChats[item].initDate} className=\"chat-field\" onClick={this.getCurrChat}>{new Date(this.props.allChats[item].initDate).toLocaleString().slice(0,new Date(this.props.allChats[item].initDate).toLocaleString().length-3)+\"  \"+this.props.allChats[item].users.name}</div>\r\n                    )}\r\n                </div>\r\n                <div className=\"admin-chat-container\"  style={{flex:1}}>\r\n                <div className=\"admin-chat\" id=\"admin-chat\">\r\n                {this.props.chatMessages?\r\n                    Object.keys(this.props.chatMessages).map((item)=>\r\n                        this.props.chatMessages[item].createdBy===this.props.userInfo.uid?\r\n                        <React.Fragment>\r\n                        <div className=\"chat-message you\">\r\n                            <div>{this.props.chatMessages[item].post}</div>\r\n                        </div>\r\n                        <div className=\"message-date-you\">{\"Sent: \" + this.props.chatMessages[item].date}</div>\r\n                        </React.Fragment>\r\n                        :\r\n                        <React.Fragment>\r\n                        <div className=\"chat-message receiver\">\r\n                            <div>{this.props.chatMessages[item].post}</div>\r\n                        </div> \r\n                        <div className=\"message-date-receiver\">{\"Sent: \" + this.props.chatMessages[item].date}</div>\r\n                        </React.Fragment>\r\n                    )\r\n                    :<div>Choose a chat</div>}\r\n                </div>\r\n                    <form onSubmit={this.addMessage}>\r\n                        <InputGroup placeholder=\"Start say something\" value={this.state.text} onChange={this.handleText}/>\r\n                    </form>\r\n                </div>\r\n                </React.Fragment>\r\n                :<Spinner size={25}/>}\r\n                {/* <div className=\"chat-window\" id=\"chat-window\">\r\n                    \r\n                </div>\r\n                 */}\r\n            </div>   \r\n        )}\r\n}\r\n\r\nconst mapStateToProps = (state) => {    \r\n    const { userInfo, singleUser } = state.data;\r\n    const { chatMessages, chatInfo, allChats } = state.global;\r\n    \r\n    return {\r\n        chatMessages,\r\n        chatInfo,\r\n        userInfo,\r\n        allChats,\r\n        singleUser\r\n    }\r\n}\r\n  \r\nconst mapDispatchToProps = (dispatch) => {\r\n    return bindActionCreators({ getAllChats, getChat, getUser, addPost }, dispatch);\r\n}\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(Admin);\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Provider } from 'react-redux'\r\nimport { BrowserRouter, Route } from 'react-router-dom'\r\nimport \"@blueprintjs/icons/lib/css/blueprint-icons.css\";\r\nimport \"@blueprintjs/core/lib/css/blueprint.css\";\r\nimport \"@blueprintjs/datetime/lib/css/blueprint-datetime.css\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './App.css';\r\n\r\nimport Header from './components/Main/Header';\r\nimport Home from './components/Main/Home'\r\nimport Profile from './components/Main/Profile';\r\nimport MapComponent from './components/Main/MapComponent';\r\nimport Contact from './components/Main/Contact';\r\nimport Footer from './components/Main/Footer';\r\nimport Statistics from './components/Main/Statistics';\r\nimport Admin from './components/Main/Admin';\r\n\r\nconst Root = ({ store }) => (\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n      <React.Fragment>\r\n        <Header/>\r\n        <Route exact path=\"/\" component={Home}/>\r\n        <Route path=\"/profile\" component={Profile}/>\r\n        <Route path=\"/statistics\" component={Statistics}/>\r\n        <Route path=\"/map\" component={MapComponent}/>\r\n        <Route path=\"/contact\" component={Contact}/>\r\n        <Route path=\"/admin\" component={Admin}/>\r\n        <Footer/>\r\n      </React.Fragment>  \r\n    </BrowserRouter>\r\n  </Provider>\r\n)\r\n\r\nRoot.propTypes = {\r\n  store: PropTypes.object.isRequired\r\n}\r\n\r\n\r\nexport default Root","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {createStore, applyMiddleware} from 'redux';\nimport reduxThunk from 'redux-thunk';\nimport reducers from './reducers';\n\nimport Root from './Root';\n\nimport * as serviceWorker from './serviceWorker';\n\n\nconst store = createStore(reducers, {}, applyMiddleware(reduxThunk));\n\nReactDOM.render(\n  <Root store={store} />,\n  document.getElementById(\"root\")\n);\nserviceWorker.register();"],"sourceRoot":""}