(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{280:function(e,t,a){e.exports=a(385)},292:function(e,t,a){},378:function(e){e.exports={matrix:[["","s0","s1","s2","s3","s4","s5","s6","s7","s8","s9","s10","h0","h1","h2","h3","h4","h5","h6","h7"],["s0",0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],["s1",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],["s2",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],["s3",0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0],["s4",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],["s5",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0],["s6",0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0],["s7",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],["s8",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],["s9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0],["s10",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],["h0",1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1],["h1",0,0,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0],["h2",0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0],["h3",0,0,1,0,0,0,0,0,1,0,0,0,0,1,0,1,0,0,0],["h4",0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,1,0,0],["h5",0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1,1],["h6",0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0],["h7",0,0,0,0,1,0,0,0,0,0,1,1,0,0,0,0,1,0,0]]}},379:function(e,t,a){e.exports=a.p+"static/media/carIcon2.3f11b963.png"},380:function(e,t,a){e.exports=a.p+"static/media/node.fa336545.png"},381:function(e,t,a){e.exports=a.p+"static/media/avaliable.78c14fe8.png"},382:function(e,t,a){e.exports=a.p+"static/media/taken.b389ae52.png"},384:function(e,t,a){e.exports=a.p+"static/media/forecast_data_formatted.5f36ebf6.txt"},385:function(e,t,a){"use strict";a.r(t);var n=a(4),o=a.n(n),r=a(71),s=a.n(r),i=a(40),c=a(263),l={login:null!==window.localStorage.getItem("LOGIN")},u=a(84),p={headerBkg:!1,parkinglot:"Library"},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-SELECTED":return Object(u.a)({},e,{selected:t.payload});case"USER-POS":return Object(u.a)({},e,{userPos:t.payload});case"ASSIGN-SPOT":return Object(u.a)({},e,{path:t.payload.path,sensor:t.payload.spot});case"LOAD-USERPAGE":return Object(u.a)({},e,{loadUserPage:t.payload.load,userPageSuccess:t.payload.success});case"SET-POLYLINE":return Object(u.a)({},e,{latlngs:t.payload});case"SET-HEADER-BKG":return Object(u.a)({},e,{headerBkg:t.payload});default:return e}},h={loadUserName:!0},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN-FIELD-LOADER":return Object(u.a)({},e,{loadUserName:t.payload});case"TOASTER":return Object(u.a)({},e,{toastMessage:t.message,showToast:t.show,toastType:t.toastType});default:return e}},f=Object(i.c)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER-INFO":return Object.assign({},e,{userInfo:t.payload});case"LOGIN":return Object.assign({},e,{login:t.payload});case"GET-GEO":return Object.assign({},e,{json:t.payload,geometry:t.payload.geometry,corners:t.payload.corners,support:t.payload.support,sensors:t.payload.sensors,entrance:t.payload.entrance});default:return e}},global:d,loaders:m}),b=a(46),v=a(403),g=a(404),E=(a(289),a(290),a(291),a(292),a(39)),O=a(41),y=a(43),w=a(42),j=a(44),N=a(208);N.initializeApp({apiKey:"AIzaSyCz2Lbfoxu59bbPKz5GaWNczSvq_I0Uh_E",authDomain:"optipark-5dfe8.firebaseapp.com",databaseURL:"https://optipark-5dfe8.firebaseio.com",projectId:"optipark-5dfe8",storageBucket:"optipark-5dfe8.appspot.com",messagingSenderId:"887530230166"});var S=N.firestore(),k=N.auth(),I=a(94),C=a.n(I),T=a(138),x=function(){return function(e){S.collection("users").doc(k.currentUser.uid).get().then(function(t){e({type:"USER-INFO",payload:t.data()})}).catch(function(e){console.log("fetch error",e)})}},M=function(e){return function(t){t({type:"LOGIN",payload:e}),setTimeout(function(){t({type:"LOGIN-FIELD-LOADER",payload:null})},1e3)}},D=function(e,t){k.createUserWithEmailAndPassword(e,t).then(function(){S.collection("users").doc(k.currentUser.uid).set({email:e,username:e.split("@")[0],uid:k.currentUser.uid})}).catch(function(e){console.log("create error",e)})},R=function(e,t){return function(){var a=Object(T.a)(C.a.mark(function a(n){return C.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:k.signInWithEmailAndPassword(e,t).catch(function(e){console.log("Signin error",e)});case 1:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},L=function(){return function(){var e=Object(T.a)(C.a.mark(function e(t){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:k.signOut().then(function(){t({type:"USER-INFO",payload:null}),t({type:"LOGIN-FIELD-LOADER",payload:!0})}).catch(function(){console.log("Signout Error")});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(T.a)(C.a.mark(function t(a){return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:S.collection("parkinglots").doc(e).get().then(function(e){var t=JSON.parse(e.data().json);e.exists?a({type:"GET-GEO",payload:t}):console.log("no such document")}).catch(function(){return console.log("getgeo error")});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},A=a(68),U=a(399),F=a(79),B=a(393),G=a(124),Y=a(407),_=a(59),W=function(e){function t(){return Object(E.a)(this,t),Object(y.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return console.log(this.props.value),Object(_.toast)(this.props.value,{position:_.toast.POSITION.BOTTOM_CENTER,type:_.toast.TYPE.ERROR,autoClose:1e3}),o.a.createElement(_.ToastContainer,{className:"toastUp"})}}]),t}(n.Component),z=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(y.a)(this,Object(w.a)(t).call(this,e))).createUser=function(e){e.preventDefault(),a.state.password!==a.state.veripassword?Object(_.toast)("Passwords doesn't match",{position:_.toast.POSITION.BOTTOM_CENTER,type:_.toast.TYPE.ERROR,autoClose:1500}):""===a.state.email||""===a.state.password||""===a.state.veripassword||""===a.state.lp?Object(_.toast)("Fields are empty",{position:_.toast.POSITION.BOTTOM_CENTER,type:_.toast.TYPE.ERROR,autoClose:1500}):a.props.createUser(a.state.email,a.state.password)},a.handleChange=function(e){a.setState(Object(A.a)({},e.target.id,e.target.value))},a.state={email:"",password:"",veripassword:"",lp:""},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return o.a.createElement(U.a,{interactionKind:U.b.CLICK,popoverClassName:"bp3-popover-content-sizing",position:F.a.BOTTOM,target:o.a.createElement("button",{className:"bp3-button bp3-minimal bp3-icon-new-person"},"Sign Up"),content:o.a.createElement("form",{onSubmit:this.createUser},o.a.createElement("label",{className:"bp3-label"},"Sign Up"),o.a.createElement(B.a,{id:"email",className:"popover-input",type:"email",placeholder:"Email",leftIcon:"user",style:{color:"white"},intent:G.a.PRIMARY,onChange:this.handleChange,value:this.state.email}),o.a.createElement(B.a,{id:"password",className:"popover-input",type:"password",leftIcon:"lock",placeholder:"Password",intent:G.a.PRIMARY,onChange:this.handleChange,value:this.state.password}),o.a.createElement(B.a,{id:"veripassword",className:"popover-input",type:"password",leftIcon:"lock",placeholder:"Verify password",intent:G.a.PRIMARY,onChange:this.handleChange,value:this.state.veripassword}),o.a.createElement(B.a,{id:"lp",className:"popover-input",type:"text",leftIcon:"drive-time",placeholder:"License plate",intent:G.a.PRIMARY,onChange:this.handleChange,value:this.state.lp}),o.a.createElement(Y.a,{type:"submit",role:"button"},"Create"),this.state.notify?o.a.createElement(W,{value:"Password does not match"}):null)})}}]),t}(n.Component),H=Object(b.b)(function(e){return{login:e.data.login}},function(e){return Object(i.b)({createUser:D},e)})(z),K=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(y.a)(this,Object(w.a)(t).call(this,e))).signIn=function(e){e.preventDefault(),a.props.signInUser(a.state.email,a.state.password)},a.handleChange=function(e){a.setState(Object(A.a)({},e.target.id,e.target.value))},a.state={isOpen:!1,email:"",password:""},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return o.a.createElement(U.a,{interactionKind:U.b.CLICK,popoverClassName:"bp3-popover-content-sizing",position:F.a.BOTTOM,target:o.a.createElement("button",{className:"bp3-button bp3-minimal bp3-icon-log-in"},"Log In"),content:o.a.createElement("form",{onSubmit:this.signIn},o.a.createElement("label",{className:"bp3-label"},"Sign In"),o.a.createElement(B.a,{id:"email",className:"popover-input",type:"email",placeholder:"Email",leftIcon:"user",intent:G.a.PRIMARY,onChange:this.handleChange,value:this.state.email}),o.a.createElement(B.a,{id:"password",className:"popover-input",type:"password",leftIcon:"lock",placeholder:"Password",intent:G.a.PRIMARY,onChange:this.handleChange,value:this.state.password}),o.a.createElement(Y.a,{type:"submit",role:"button"},"Sign in"))})}}]),t}(n.Component),q=Object(b.b)(function(e){return{login:e.data.login}},function(e){return Object(i.b)({signInUser:R},e)})(K),X=a(394),J=function(e){function t(){return Object(E.a)(this,t),Object(y.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return o.a.createElement(X.a,{style:{textDecoration:"none",color:"#e3e6e4"},to:this.props.to},this.props.content)}}]),t}(o.a.Component),V=a(268),$=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(y.a)(this,Object(w.a)(t).call(this,e))).signout=function(){a.props.signOutUser()},a.state={},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return o.a.createElement(J,{onClick:this.signout,to:"/",content:o.a.createElement("button",{class:"bp3-button bp3-minimal bp3-icon-log-out",onClick:this.signout},"Logout")})}}]),t}(n.Component),Q=Object(b.b)(function(e){return{}},function(e){return Object(i.b)({signOutUser:L},e)})($),Z=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(y.a)(this,Object(w.a)(t).call(this,e))).state={},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return this.props.loadUserName?o.a.createElement(V.a,{size:25}):o.a.createElement(o.a.Fragment,null,o.a.createElement(J,{to:"/map",content:o.a.createElement("button",{className:"bp3-button bp3-minimal bp3-icon-map"},"Map")}),o.a.createElement(U.a,{className:"profile-options",interactionKind:U.b.HOVER,popoverClassName:"bp3-popover-content-sizing",position:F.a.BOTTOM,target:o.a.createElement(Y.a,{rightIcon:"cog",className:"bp3-button bp3-minimal"},this.props.userInfo.username),content:o.a.createElement("div",{className:"flex flex-column"},o.a.createElement(J,{to:"/profile",content:o.a.createElement("div",{className:"bp3-button bp3-minimal bp3-icon-user"},"Profile")}),o.a.createElement(Q,null))}))}}]),t}(n.Component),ee=Object(b.b)(function(e){return{userInfo:e.data.userInfo,loadUserName:e.loaders.loadUserName}},function(e){return Object(i.b)({},e)})(Z),te=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(y.a)(this,Object(w.a)(t).call(this,e))).state={},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"componentWillMount",value:function(){this.props.getGeo(this.props.parkinglot),window.localStorage.removeItem("LOGIN")}},{key:"componentDidMount",value:function(){var e=this;k.onAuthStateChanged(function(t){t?(e.props.changeLogin(!0),window.localStorage.setItem("LOGIN","yes"),e.props.fetchInfo()):(e.props.changeLogin(!1),window.localStorage.removeItem("LOGIN"))})}},{key:"render",value:function(){return o.a.createElement("nav",{className:"bp3-navbar bp3-dark",style:this.props.headerBkg?{backgroundColor:"rgba(0,0,0,0)",boxShadow:"none"}:{backgroundColor:"",boxShadow:""}},o.a.createElement("div",{style:{margin:"0 auto",width:"100%"}},o.a.createElement("div",{className:"bp3-navbar-group bp3-align-left"},o.a.createElement("div",{className:"bp3-navbar-heading"},"OptiPark")),o.a.createElement("div",{className:"bp3-navbar-group bp3-align-right"},o.a.createElement(J,{to:"/",content:o.a.createElement("button",{className:"bp3-button bp3-minimal bp3-icon-home"},"Home")}),o.a.createElement(J,{to:"/statistics",content:o.a.createElement("button",{className:"bp3-button bp3-minimal bp3-icon-chart"},"Statistics")}),o.a.createElement(J,{to:"/contact",content:o.a.createElement("button",{className:"bp3-button bp3-minimal bp3-icon-annotation"},"Contact")}),o.a.createElement("span",{className:"bp3-navbar-divider"}),this.props.login&&this.props.userInfo?o.a.createElement(o.a.Fragment,null,o.a.createElement(ee,null)):o.a.createElement(o.a.Fragment,null,o.a.createElement(q,null),o.a.createElement(H,null)))))}}]),t}(n.Component),ae=Object(b.b)(function(e){var t=e.data,a=t.login,n=t.userInfo,o=e.global;return{login:a,userInfo:n,headerBkg:o.headerBkg,parkinglot:o.parkinglot}},function(e){return Object(i.b)({fetchInfo:x,changeLogin:M,getGeo:P},e)})(te),ne=a(140),oe=a(234),re=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(y.a)(this,Object(w.a)(t).call(this,e))).state={},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"hero"}),o.a.createElement(oe.Fade,{cascade:!0},o.a.createElement("div",{className:"hero-text"},o.a.createElement("div",{className:"title-text"},o.a.createElement("b",null,o.a.createElement("span",{style:{color:"#4580E6"}},"Opti"),"Park")),o.a.createElement("div",{className:"title-subtext"},"Parking made easy"))))}}]),t}(o.a.Component),se=Object(b.b)(function(e){return{login:e.data.login}},function(e){return Object(i.b)({},e)})(re),ie=function(e){return function(t){t({type:"SET-HEADER-BKG",payload:e})}},ce=function(e,t,a,n){return function(){var o=Object(T.a)(C.a.mark(function o(r){return C.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:S.collection("contactForms").doc(t).update(Object(A.a)({},n+"-"+e,{email:e,text:a,date:n})).then(function(){r(le("Thank you for your request",!0,"success"))}).catch(function(e){console.log("CONTACT-FORM-ERROR",e),r(le("Error submitting your contact request",!0,"error"))});case 1:case"end":return o.stop()}},o)}));return function(e){return o.apply(this,arguments)}}()},le=function(e,t,a){return function(n){n({type:"TOASTER",message:e,show:t,toastType:a})}},ue=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(y.a)(this,Object(w.a)(t).call(this,e))).handleMouseMove=function(e){console.log(e)},a.handleScroll=function(){window.scrollY>200&&a.state.above&&a.setState({scroll:window.scrollY,radioColor:"rgb(57, 75, 89)",above:!a.state.above}),window.scrollY<200&&!a.state.above&&a.setState({scroll:window.scrollY,radioColor:"white",above:!a.state.above})},a.scrollToRef=function(e){window.scrollTo(0,1)},a.handleSetActive=function(e){console.log("click")},a.state={divRef:1,scroll:0,radioColor:"white",above:!0},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"componentWillMount",value:function(){this.props.changeHeaderBkg(!0),window.addEventListener("scroll",this.handleScroll),window.addEventListener("mousemove",this.handleMouseMove)}},{key:"componentWillUnmount",value:function(){this.props.changeHeaderBkg(!1),window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("mousemove",this.handleMouseMove)}},{key:"render",value:function(){return o.a.createElement("div",{className:"home-container"},o.a.createElement(se,null),o.a.createElement("div",{className:"radio-selectors"},o.a.createElement(ne.Link,{className:"radio-selectors-item",style:{backgroundColor:this.state.radioColor},smooth:!0,to:"div0",offset:-150,duration:500,onSetActive:this.handleSetActive}),o.a.createElement(ne.Link,{className:"radio-selectors-item",style:{backgroundColor:this.state.radioColor},smooth:!0,to:"div1",offset:-150,duration:500,onSetActive:this.handleSetActive}),o.a.createElement(ne.Link,{className:"radio-selectors-item",style:{backgroundColor:this.state.radioColor},smooth:!0,to:"div2",offset:-150,duration:500,onSetActive:this.handleSetActive})),o.a.createElement("div",{className:"sub-container-home"},o.a.createElement(ne.Element,{className:"text-container-home",name:"div0"},"Test"),o.a.createElement(ne.Element,{className:"text-container-home",name:"div1"},"Test"),o.a.createElement(ne.Element,{className:"text-container-home",name:"div2"},"Test")))}}]),t}(n.Component),pe=Object(b.b)(function(e){return{headerBkg:e.global.headerBkg}},function(e){return Object(i.b)({changeHeaderBkg:ie},e)})(ue),de=a(269),he=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(y.a)(this,Object(w.a)(t).call(this,e))).state={},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},"Profile")}}]),t}(n.Component),me=Object(b.b)(function(e){return Object(de.a)(e),{}},function(e){return Object(i.b)({},e)})(he),fe=a(405),be=a(402),ve=a(406),ge=a(396),Ee=a(61),Oe=a.n(Ee),ye=a(275),we=function e(t){var a=this;Object(E.a)(this,e),this.addVertex=function(e){a.adjList.set(e,{})},this.addEdge=function(e,t,n,o){a.adjList.get(e)[t]={len:n,latlnglen:o}},this.getNode=function(e){return Object(ye.a)(a.adjList.keys()).find(function(t){return t===e})},this.getLength=function(){return a.adjList.size},this.printGraph=function(){var e=a.adjList.keys(),t=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var i=r.value,c=a.adjList.get(i),l="";Object.keys(c).forEach(function(e){l+=e+", "}),console.log(i+" -> "+l)}}catch(u){n=!0,o=u}finally{try{t||null==s.return||s.return()}finally{if(n)throw o}}},this.noOfVertices=t,this.adjList=new Map},je=function(e,t){var a=[e[0]*Math.PI/180,e[1]*Math.PI/180],n=[t[0]*Math.PI/180,t[1]*Math.PI/180],o=6371e3,r=o*Math.cos(a[0])*Math.cos(a[1]),s=o*Math.cos(n[0])*Math.cos(n[1]),i=o*Math.cos(a[0])*Math.sin(a[1]),c=o*Math.cos(n[0])*Math.sin(n[1]),l=o*Math.sin(a[0]),u=o*Math.sin(n[0]);return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-c,2)+Math.pow(l-u,2))},Ne=function(e,t){var n=a(378);n=n.matrix;for(var o=new we,r=n[0],s=1;s<r.length;s++)o.addVertex(r[s]);for(var i=function(a){for(var s=function(s){if(1===n[a][s]){var i=0,c=0;"h"===r[a].split("")[0]&&Object.keys(t).forEach(function(e){t[e].properties.name===r[a]&&(i=t[e].geometry.coordinates)}),"h"===r[s].split("")[0]&&Object.keys(t).forEach(function(e){t[e].properties.name===r[s]&&(c=t[e].geometry.coordinates)}),"s"===r[a].split("")[0]&&Object.keys(e).forEach(function(t){e[t].properties.name===r[a]&&(i=e[t].geometry.coordinates)}),"s"===r[s].split("")[0]&&Object.keys(e).forEach(function(t){e[t].properties.name===r[s]&&(c=e[t].geometry.coordinates)}),o.addEdge(r[a],r[s],je(i,c),function(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}(i,c))}},i=1;i<n[a].length;i++)s(i)},c=1;c<n.length;c++)i(c);return console.log(o),o},Se=function(e){var t=[Math.pow(10,1e3),-Math.pow(10,1e3)],a=[-Math.pow(10,1e3),Math.pow(10,1e3)];return Object.keys(e).forEach(function(n){e[n][0]<t[0]&&(t[0]=e[n][0]),e[n][0]>a[0]&&(a[0]=e[n][0]),e[n][1]>t[1]&&(t[1]=e[n][1]),e[n][1]<a[1]&&(a[1]=e[n][1])}),[t,a]},ke=a(395),Ie=(new Oe.a.Icon({iconUrl:a(379),iconSize:[30,30]}),new Oe.a.Icon({iconUrl:a(380),iconSize:[10,10]}),[15,15]),Ce=new Oe.a.Icon({iconUrl:a(381),iconSize:Ie}),Te=new Oe.a.Icon({iconUrl:a(382),iconSize:Ie}),xe=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(y.a)(this,Object(w.a)(t).call(this,e))).state={loadingMap:!0},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"componentWillMount",value:function(){this.props.sensors&&this.props.support&&this.props.corners&&this.setState({g:Ne(this.props.sensors,this.props.support),bbox:Se(this.props.corners),loadingMap:!this.state.loadingMap})}},{key:"componentDidUpdate",value:function(e,t){e.sensors!==this.props.sensors&&this.props.sensors&&this.props.support&&this.props.corners&&this.setState({g:Ne(this.props.sensors,this.props.support),bbox:Se(this.props.corners),loadingMap:!this.state.loadingMap})}},{key:"render",value:function(){var e=this;return this.props.login?o.a.createElement("div",{className:"map-container"},this.state.loadingMap?o.a.createElement("div",{className:"progressBar"},"Loading map",o.a.createElement(ke.a,null)):o.a.createElement(be.a,{bounds:this.state.bbox,style:{width:"100%",height:"100%"}},o.a.createElement(ve.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object.keys(this.props.sensors).map(function(t){return o.a.createElement(ge.a,{onMouseOver:e.hoverMarker,id:e.props.sensors[t].properties.name,key:t,onClick:e.selectSpot,position:[e.props.sensors[t].geometry.coordinates[0],e.props.sensors[t].geometry.coordinates[1]],icon:0===e.props.sensors[t].properties.status?Ce:Te})}))):o.a.createElement(fe.a,{to:"/"})}}]),t}(n.Component),Me=Object(b.b)(function(e){var t=e.data;return{login:t.login,userInfo:t.userInfo,support:t.support,sensors:t.sensors,corners:t.corners}},function(e){return Object(i.b)({},e)})(xe),De=a(397),Re=a(237),Le=a(398),Pe=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(y.a)(this,Object(w.a)(t).call(this,e))).submitContactForm=function(){a.props.showToast||(a.props.submitContactForm(a.state.email,a.state.topicText,a.state.text,(new Date).getTime()),a.setState({text:"",topic:1,topicText:"Bug",email:""}))},a.handleTopicChange=function(e){a.setState({topic:parseInt(e.target.value),topicText:e.target.label})},a.handleText=function(e){a.setState(Object(A.a)({},e.target.id,e.target.value))},a.state={text:"",topic:1,topicText:"Bug",email:""},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"componentWillMount",value:function(){this.props.userInfo&&this.setState({email:this.props.userInfo.email})}},{key:"componentDidUpdate",value:function(e){e.userInfo!==this.props.userInfo&&this.setState({email:this.props.userInfo.email})}},{key:"render",value:function(){return o.a.createElement("div",{className:"container contact-container flex"},o.a.createElement("div",{className:"info-container equal-child"},o.a.createElement("h4",null,"Contact info"),o.a.createElement("div",null,"Address:"),o.a.createElement("i",{className:""},"Univercity of California, Santa Barbara, 93117 Goleta"),o.a.createElement("div",null,"Mobile:"),o.a.createElement("i",null,"+1 111 222 3344"),o.a.createElement("hr",null),o.a.createElement("div",{className:""},"Opening Hours:"),o.a.createElement("div",{className:"opening-hours flex"},o.a.createElement("div",{className:"oh-day"},"Mon: "),o.a.createElement("div",{className:"oh-hour"},"10:00am-5:00pm")),o.a.createElement("div",{className:"opening-hours flex"},o.a.createElement("div",{className:"oh-day"},"Tue: "),o.a.createElement("div",{className:"oh-hour"},"10:00am-5:00pm")),o.a.createElement("div",{className:"opening-hours flex"},o.a.createElement("div",{className:"oh-day"},"Wed: "),o.a.createElement("div",{className:"oh-hour"},"10:00am-5:00pm")),o.a.createElement("div",{className:"opening-hours flex"},o.a.createElement("div",{className:"oh-day"},"Thu: "),o.a.createElement("div",{className:"oh-hour"},"10:00am-5:00pm")),o.a.createElement("div",{className:"opening-hours flex"},o.a.createElement("div",{className:"oh-day"},"Fri: "),o.a.createElement("div",{className:"oh-hour"},"10:00am-5:00pm")),o.a.createElement("div",{className:"opening-hours flex"},o.a.createElement("div",{className:"oh-day"},"Sat: "),o.a.createElement("div",{className:"oh-hour",style:{color:"red"}},"Closed")),o.a.createElement("div",{className:"opening-hours flex"},o.a.createElement("div",{className:"oh-day"},"Sun: "),o.a.createElement("div",{className:"oh-hour",style:{color:"red"}},"Closed")),o.a.createElement("hr",null)),o.a.createElement("span",{className:"bp3-navbar-divider"}),o.a.createElement("div",{className:"contact-form-container"},o.a.createElement("h3",null,"Contact Form"),o.a.createElement(De.a,{name:"Choose topic",onChange:this.handleTopicChange,selectedValue:this.state.topic,inline:!0},o.a.createElement(Re.a,{label:"Bug",value:1}),o.a.createElement(Re.a,{label:"Question",value:2}),o.a.createElement(Re.a,{label:"Other..",value:3})),o.a.createElement(B.a,{id:"email",className:"contact-email-input",value:this.state.email,onChange:this.handleText,placeholder:"Enter email"}),o.a.createElement(Le.a,{id:"text",className:"contact-text",onChange:this.handleText,value:this.state.text,fill:!0,large:!0}),o.a.createElement(Y.a,{type:"",onClick:this.submitContactForm},"Submit form")))}}]),t}(n.Component),Ae=Object(b.b)(function(e){return{userInfo:e.data.userInfo,showToast:e.loaders.showToast}},function(e){return Object(i.b)({submitContactForm:ce},e)})(Pe),Ue=a(262),Fe=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(y.a)(this,Object(w.a)(t).call(this,e))).state={},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;if(e.showToast!==this.props.showToast&&this.props.showToast){var a=this.props.toastType,n={autoClose:1500,position:_.toast.POSITION.BOTTOM_CENTER};"success"===a&&(n.type=_.toast.TYPE.SUCCESS),"error"===a&&(n.type=_.toast.TYPE.SUCCESS),"default"===a&&(n.type=_.toast.TYPE.DEFAULT),Object(_.toast)(this.props.toastMessage,n),setTimeout(function(){t.props.changeToaster("",!1,"")},1500)}}},{key:"render",value:function(){return o.a.createElement("div",{className:"footer",style:{backgroundColor:Ue.a.DARK_GRAY5,height:"50px"}},o.a.createElement(_.ToastContainer,null))}}]),t}(n.Component),Be=Object(b.b)(function(e){var t=e.loaders;return{showToast:t.showToast,toastMessage:t.toastMessage,toastType:t.toastType}},function(e){return Object(i.b)({changeToaster:le},e)})(Fe),Ge=a(139),Ye=a(400),_e=a(272),We=a(274),ze=a(401),He=a(238),Ke=a.n(He),qe=a(158),Xe=a(70),Je=a(239);qe.b(Je.a);var Ve=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(y.a)(this,Object(w.a)(t).call(this,e))).state={loading:!0,predictedData:[],processedData:[],daysBackward:1,daysForward:1,oppositePredictedData:[]},n.componentDidMount=function(){var e=[],t=[];fetch(a(384)).then(function(e){return e.text()}).then(function(a){for(var o=a.split("\n"),r=0;r<o.length;r++)if(o[r].length>0){var s=o[r].split(","),i=new Date(s[0]),c=532-parseInt(s[1]);e.push({date:i,value:c,color:"#7dabf4"}),t.push({date:i,value:532-c,color:"#7dabf4"})}n.setState({predictedData:e,oppositePredictedData:t})}),qe.b(Je.a);var o=qe.a("chartdiv",Xe.f),r=o.xAxes.push(new Xe.b);r.dataFields.category="date",r.renderer.grid.template.location=0,r.renderer.minGridDistance=40;o.yAxes.push(new Xe.d);var s=o.series.push(new Xe.a);s.dataFields.valueY="value",s.dataFields.dateX="date",s.columns.template.propertyFields.fill="color",s.columns.template.propertyFields.stroke="color",s.name="Visits",s.columns.template.tooltipText="{categoryX}: [bold]{valueY}[/]",s.columns.template.fillOpacity=.8;var i=s.columns.template;i.strokeWidth=2,i.strokeOpacity=1;var c=Object(Ge.a)(Object(Ge.a)(n));Ke.a.ajax({url:"https://data.smgov.net/resource/tce2-7ir6.json",type:"GET",data:{$limit:1e5,lot_name:"Library",$$app_token:"Ul8sMHNswBDXCzvlAxpqI6x1Q"},dataFilter:function(e){var t=JSON.parse(e),a=new Date,n=new Date;a.setDate(a.getDate()-1);var o=t.filter(function(e){var t=new Date(e.date_time);return t.toISOString()>=a.toISOString()&&t.toISOString()<=n.toISOString()});return JSON.stringify(o)}}).done(function(e){var t=c.filterData(e,0);o.data=t,c.chart=o,c.setState({loading:!1,processedData:t}),c.initiateOtherCharts(e)})},n.initiateOtherCharts=function(e){var t=qe.a("chartdiv2",Xe.e);t.paddingRight=20,t.xAxes.push(new Xe.b).renderer.grid.template.location=0;var a=t.yAxes.push(new Xe.d);a.tooltip.disabled=!0,a.renderer.minWidth=35;var o=t.series.push(new Xe.c);o.dataFields.dateX="date",o.dataFields.valueY="value",o.tooltipText="{valueY.value}",t.cursor=new Xe.h;var r=new Xe.g;r.series.push(o),t.scrollbarX=r,t.data=n.filterData(e,1),n.chart2=t},n.handleChange=function(e){n.setState(Object(A.a)({},e.target.id,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.loadData()},n.filterData=function(e,t){if(0===t){for(var a,o=[],r=0;r<e.length;r++){var s=532-parseInt(e[r].available_spaces),i=e[r].date_time;0===new Date(i).getMinutes()&&o.push({date:new Date(i),value:s,color:"#4181e7"})}o[o.length-1].color="#d02878",o.sort(function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()}),o.length>0&&(a=o[o.length-1]);var c=new Date;c.setDate(a.date.getDate()+parseInt(n.state.daysForward));for(var l=0;l<n.state.predictedData.length;l++)n.state.predictedData[l].date>a.date&&n.state.predictedData[l].date<=c&&0===n.state.predictedData[l].date.getMinutes()&&o.push(n.state.predictedData[l]);return o}for(var u,p=[],d=0;d<e.length;d++){var h=parseInt(e[d].available_spaces),m=e[d].date_time;p.push({date:new Date(m),value:h,color:"#4181e7"})}p[p.length-1].color="#d02878",p.sort(function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()}),p.length>0&&(u=p[p.length-1]);var f=new Date;f.setDate(u.date.getDate()+parseInt(n.state.daysForward));for(var b=0;b<n.state.oppositePredictedData.length;b++)n.state.oppositePredictedData[b].date>u.date&&n.state.oppositePredictedData[b].date<=f&&p.push(n.state.oppositePredictedData[b]);return p},n.loadData=function(){var e=qe.a("chartdiv2",Xe.e);e.paddingRight=20,e.xAxes.push(new Xe.b).renderer.grid.template.location=0;var t=e.yAxes.push(new Xe.d);t.tooltip.disabled=!0,t.renderer.minWidth=35;var a=e.series.push(new Xe.c);a.dataFields.dateX="date",a.dataFields.valueY="value",a.tooltipText="{valueY.value}",e.cursor=new Xe.h;var o=new Xe.g;o.series.push(a),e.scrollbarX=o;var r=Object(Ge.a)(Object(Ge.a)(n));Ke.a.ajax({url:"https://data.smgov.net/resource/tce2-7ir6.json",type:"GET",data:{$limit:1e5,lot_name:"Library",$$app_token:"Ul8sMHNswBDXCzvlAxpqI6x1Q"},dataFilter:function(e){var t=JSON.parse(e),a=new Date,n=new Date;a.setDate(a.getDate()-parseInt(r.state.daysBackward));var o=t.filter(function(e){var t=new Date(e.date_time);return t.toISOString()>=a.toISOString()&&t.toISOString()<=n.toISOString()});return JSON.stringify(o)}}).done(function(t){var a=r.filterData(t,1);e.data=a,r.chart2=e,r.setState({loading:!1})})},n}return Object(j.a)(t,e),Object(O.a)(t,[{key:"componentWillUnmount",value:function(){this.chart&&this.chart.dispose()}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"chart"},o.a.createElement("h2",null,this.state.loading?o.a.createElement("div",{class:"lds-ring"},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null)):null),o.a.createElement("div",{className:"subtext__container"},this.state.loading?null:o.a.createElement("div",{className:"subtext"},"Parking lot demand")),o.a.createElement("div",{id:"chartdiv",style:{height:"500px"}}),o.a.createElement("div",{className:"subtext__container",style:{marginTop:"50px",marginBottom:"0px"}},this.state.loading?null:o.a.createElement("div",{className:"subtext"},"Number of available spots")),o.a.createElement(Ye.a,{className:"flex",onSubmit:this.handleSubmit},o.a.createElement(_e.a,{controlId:"formBasicEmail"},o.a.createElement(We.a,{type:"text",placeholder:"Enter backwards",id:"daysBackward",onChange:this.handleChange})),o.a.createElement(_e.a,{controlId:"formBasicPassword"},o.a.createElement(We.a,{type:"text",placeholder:"Enter forwards",id:"daysForward",onChange:this.handleChange})),o.a.createElement(ze.a,{variant:"primary",type:"submit"},"Make changes")),o.a.createElement("div",{id:"chartdiv2",style:{width:"90%",height:"500px"}})))}}]),t}(n.Component),$e=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(y.a)(this,Object(w.a)(t).call(this,e))).state={},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"stat-container"},o.a.createElement(Ve,null))}}]),t}(n.Component),Qe=Object(b.b)(function(e){return{}},function(e){return Object(i.b)({},e)})($e),Ze=function(e){var t=e.store;return o.a.createElement(b.a,{store:t},o.a.createElement(v.a,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(ae,null),o.a.createElement(g.a,{exact:!0,path:"/",component:pe}),o.a.createElement(g.a,{path:"/profile",component:me}),o.a.createElement(g.a,{path:"/statistics",component:Qe}),o.a.createElement(g.a,{path:"/map",component:Me}),o.a.createElement(g.a,{path:"/contact",component:Ae}),o.a.createElement(Be,null))))},et=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function tt(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var at=Object(i.d)(f,{},Object(i.a)(c.a));s.a.render(o.a.createElement(Ze,{store:at}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");et?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):tt(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):tt(t,e)})}}()}},[[280,1,3]]]);
//# sourceMappingURL=main.de8aede9.chunk.js.map