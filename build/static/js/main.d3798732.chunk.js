(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{278:function(e,t,a){e.exports=a.p+"static/media/book.ccfb4fb9.png"},279:function(e,t,a){e.exports=a.p+"static/media/laptop_phone.e48527dd.png"},280:function(e,t,a){e.exports=a.p+"static/media/stats.66368d7c.png"},281:function(e,t,a){e.exports=a.p+"static/media/contact.4034b887.png"},284:function(e,t,a){e.exports=a.p+"static/media/rightIcon.4c9cb4e4.png"},285:function(e,t,a){e.exports=a.p+"static/media/leftIcon.19d39469.png"},295:function(e,t,a){e.exports=a(407)},308:function(e,t,a){},394:function(e){e.exports={matrix:[["","s0","s1","s2","s3","s4","s5","s6","s7","s8","s9","s10","h0","h1","h2","h3","h4","h5","h6","h7"],["s0",0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],["s1",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],["s2",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],["s3",0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0],["s4",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],["s5",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0],["s6",0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0],["s7",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],["s8",0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],["s9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0],["s10",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],["h0",1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1],["h1",0,0,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0],["h2",0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0],["h3",0,0,1,0,0,0,0,0,1,0,0,0,0,1,0,1,0,0,0],["h4",0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,1,0,0],["h5",0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1,1],["h6",0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0],["h7",0,0,0,0,1,0,0,0,0,0,1,1,0,0,0,0,1,0,0]]}},401:function(e,t,a){e.exports=a.p+"static/media/forecast_data_formatted.5f36ebf6.txt"},402:function(e,t,a){e.exports=a.p+"static/media/carIcon2.3f11b963.png"},403:function(e,t,a){e.exports=a.p+"static/media/node.fa336545.png"},404:function(e,t,a){e.exports=a.p+"static/media/avaliable.78c14fe8.png"},405:function(e,t,a){e.exports=a.p+"static/media/taken.b389ae52.png"},407:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),o=a(75),s=a.n(o),c=a(36),i=a(271),l={login:null!==window.localStorage.getItem("LOGIN")},u=a(72),p={headerBkg:!1,parkinglot:"Library"},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-SELECTED":return Object(u.a)({},e,{selected:t.payload});case"USER-POS":return Object(u.a)({},e,{userPos:t.payload});case"ASSIGN-SPOT":return Object(u.a)({},e,{path:t.payload.path,sensor:t.payload.spot});case"LOAD-USERPAGE":return Object(u.a)({},e,{loadUserPage:t.payload.load,userPageSuccess:t.payload.success});case"SET-POLYLINE":return Object(u.a)({},e,{latlngs:t.payload});case"SET-HEADER-BKG":return Object(u.a)({},e,{headerBkg:t.payload});case"GET-CHAT":return Object(u.a)({},e,{chatInfo:t.payload});case"CURRENT-CHAT":return Object(u.a)({},e,{chatMessages:t.payload});case"ALL-CHATS":return Object(u.a)({},e,{allChats:t.payload});case"SHOW-JOIN":return Object(u.a)({},e,{showJoin:t.payload});default:return e}},h={loadUserName:!0},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN-FIELD-LOADER":return Object(u.a)({},e,{loadUserName:t.payload});case"TOASTER":return Object(u.a)({},e,{toastMessage:t.message,showToast:t.show,toastType:t.toastType,toastTime:t.time});default:return e}},f=Object(c.c)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER-INFO":return Object.assign({},e,{userInfo:t.payload});case"SIGNLE-USER":return Object.assign({},e,{singleUser:t.payload});case"USER-CARS":return Object.assign({},e,{userCars:t.payload});case"USER-BOOKINGS":return Object.assign({},e,{userBookings:t.payload});case"LOGIN":return Object.assign({},e,{login:t.payload});case"GET-GEO":return Object.assign({},e,{json:t.payload,geometry:t.payload.geometry,corners:t.payload.corners,support:t.payload.support,sensors:t.payload.sensors,entrance:t.payload.entrance});default:return e}},global:d,loaders:m}),g=a(43),v=a(429),b=a(427),E=(a(304),a(305),a(306),a(307),a(308),a(35)),y=a(37),O=a(40),w=a(38),N=a(39),C=a(213);C.initializeApp({apiKey:"AIzaSyCz2Lbfoxu59bbPKz5GaWNczSvq_I0Uh_E",authDomain:"optipark-5dfe8.firebaseapp.com",databaseURL:"https://optipark-5dfe8.firebaseio.com",projectId:"optipark-5dfe8",storageBucket:"optipark-5dfe8.appspot.com",messagingSenderId:"887530230166"});var j=C.firestore(),k=C.auth(),S=a(31),x=a.n(S),I=a(47),T=function(e){return function(){var t=Object(I.a)(x.a.mark(function t(a){return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"LOGIN",payload:e}),setTimeout(function(){a({type:"LOGIN-FIELD-LOADER",payload:null})},1e3);case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},D=function(e,t,a,n){return function(){var r=Object(I.a)(x.a.mark(function r(o){return x.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:k.createUserWithEmailAndPassword(e,t).then(function(){j.collection("users").doc(k.currentUser.uid).set({email:e,username:e.split("@")[0],uid:k.currentUser.uid}),j.collection("users").doc(k.currentUser.uid).collection("cars").doc(a).set({lp:a,carName:n})}).catch(function(e){console.log("create error",e),o({type:"TOASTER",message:e.message,show:!0,toastType:"error",time:3e3})});case 1:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()},M=function(e){return function(){var t=Object(I.a)(x.a.mark(function t(a){return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:j.collection("users").doc(e).get().then(function(e){console.log(e.data()),a({type:"SINGLE-USER",payload:e.data()})});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},U=function(e,t){return function(){var a=Object(I.a)(x.a.mark(function a(n){return x.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:k.signInWithEmailAndPassword(e,t).catch(function(e){console.log("Signin error",e),n({type:"TOASTER",message:e.message,show:!0,toastType:"error",time:3e3})});case 1:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},R=function(e,t){return function(){var a=Object(I.a)(x.a.mark(function a(n){return x.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:j.collection("users").doc(k.currentUser.uid).update({email:e,username:t}),k.currentUser.updateEmail(e);case 2:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},A=function(){return function(){var e=Object(I.a)(x.a.mark(function e(t){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:k.signOut().then(function(){t({type:"USER-INFO",payload:null}),t({type:"LOGIN-FIELD-LOADER",payload:!0})}).catch(function(e){console.log("Signout Error",e),t({type:"TOASTER",message:e.message,show:!0,toastType:"error",time:3e3})});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},F=function(){return function(){var e=Object(I.a)(x.a.mark(function e(t){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:j.collection("users").doc(k.currentUser.uid).onSnapshot(function(e){t({type:"USER-INFO",payload:e.data()})});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},L=function(){return function(){var e=Object(I.a)(x.a.mark(function e(t){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:j.collection("users").doc(k.currentUser.uid).collection("cars").onSnapshot(function(e){var a=[];e.forEach(function(e){a.push(e.data())}),a.length>0&&t({type:"USER-CARS",payload:a})});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},P=function(){return function(){var e=Object(I.a)(x.a.mark(function e(t){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:j.collection("users").doc(k.currentUser.uid).collection("bookings").onSnapshot(function(e){var a=[];e.forEach(function(e){var t=e.data();t.niceDate=new Date(t.date).toLocaleString(),t.niceDate=t.niceDate.slice(0,t.niceDate.length-3),a.push(t)}),a.length>0&&t({type:"USER-BOOKINGS",payload:a})});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},B=function(e){return function(){var t=Object(I.a)(x.a.mark(function t(a){return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:j.collection("parkinglots").doc(e).onSnapshot(function(e){var t=JSON.parse(e.data().json);e.exists?a({type:"GET-GEO",payload:t}):console.log("no such document")});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},G=a(70),Y=a(244),W=a(71),_=a(289),H=a(416),z=a(127),J=a(52),q=function(e){function t(){return Object(E.a)(this,t),Object(O.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return console.log(this.props.value),Object(J.toast)(this.props.value,{position:J.toast.POSITION.BOTTOM_CENTER,type:J.toast.TYPE.ERROR,autoClose:1e3}),r.a.createElement(J.ToastContainer,{className:"toastUp"})}}]),t}(n.Component),K=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(w.a)(t).call(this,e))).createUser=function(e){e.preventDefault(),a.state.password!==a.state.veripassword?Object(J.toast)("Passwords doesn't match",{position:J.toast.POSITION.BOTTOM_CENTER,type:J.toast.TYPE.ERROR,autoClose:1500}):""===a.state.email||""===a.state.password||""===a.state.veripassword||""===a.state.lp?Object(J.toast)("Fields are empty",{position:J.toast.POSITION.BOTTOM_CENTER,type:J.toast.TYPE.ERROR,autoClose:1500}):(a.props.createUser(a.state.email,a.state.password,a.state.lp,a.state.carName),a.setState({open:!1}))},a.handleChange=function(e){a.setState(Object(G.a)({},e.target.id,e.target.value))},a.openPopover=function(){0!==window.scrollY?(window.scrollTo({top:0,left:0,behavior:"smooth"}),setTimeout(function(){a.setState({open:!a.state.open})},830)):a.setState({open:!a.state.open})},a.closePopover=function(e){a.setState({open:!1})},a.state={email:"",password:"",veripassword:"",lp:"",carName:"",open:!1},a}return Object(N.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return console.log(this.props.showJoin),r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{interactionKind:Y.b.CLICK,popoverClassName:"bp3-popover-content-sizing",position:W.a.BOTTOM,target:r.a.createElement(_.a,{style:{marginLeft:"10px"},onClick:this.openPopover,intent:"primary"},"Sign Up"),isOpen:this.state.open,onClose:this.closePopover,content:r.a.createElement("form",{onSubmit:this.createUser},r.a.createElement("label",{className:"bp3-label"},"Sign Up"),r.a.createElement(H.a,{id:"email",className:"popover-input",type:"email",placeholder:"Email",leftIcon:"user",style:{color:"white"},intent:z.a.PRIMARY,onChange:this.handleChange,value:this.state.email,autoFocus:!0}),r.a.createElement(H.a,{id:"password",className:"popover-input",type:"password",leftIcon:"lock",placeholder:"Password",onChange:this.handleChange,value:this.state.password}),r.a.createElement(H.a,{id:"veripassword",className:"popover-input",type:"password",leftIcon:"lock",placeholder:"Verify password",onChange:this.handleChange,value:this.state.veripassword}),r.a.createElement(H.a,{id:"lp",className:"popover-input",type:"text",leftIcon:"drive-time",placeholder:"License plate",onChange:this.handleChange,value:this.state.lp}),r.a.createElement(H.a,{id:"carName",className:"popover-input",type:"text",leftIcon:"plus",placeholder:"Car name (optional)",onChange:this.handleChange,value:this.state.carName}),r.a.createElement(_.a,{type:"submit",role:"button"},"Create"),this.state.notify?r.a.createElement(q,{value:"Password does not match"}):null)}),this.props.showJoin&&!this.props.login?r.a.createElement(_.a,{className:"join-btn",intent:"success",onClick:this.openPopover},"Join now!"):null)}}]),t}(n.Component),V=Object(g.b)(function(e){return{login:e.data.login,showJoin:e.global.showJoin}},function(e){return Object(c.b)({createUser:D},e)})(K),X=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(w.a)(t).call(this,e))).signIn=function(e){e.preventDefault(),a.props.signInUser(a.state.email,a.state.password)},a.handleChange=function(e){a.setState(Object(G.a)({},e.target.id,e.target.value))},a.state={isOpen:!1,email:"",password:""},a}return Object(N.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement(Y.a,{interactionKind:Y.b.CLICK,popoverClassName:"bp3-popover-content-sizing",position:W.a.BOTTOM,target:r.a.createElement("button",{className:"bp3-button bp3-minimal bp3-icon-log-in"},"Log In"),content:r.a.createElement("form",{onSubmit:this.signIn},r.a.createElement("label",{className:"bp3-label"},"Sign In"),r.a.createElement(H.a,{id:"email",className:"popover-input",type:"email",placeholder:"Email",leftIcon:"user",intent:z.a.PRIMARY,onChange:this.handleChange,value:this.state.email,autoFocus:!0}),r.a.createElement(H.a,{id:"password",className:"popover-input",type:"password",leftIcon:"lock",placeholder:"Password",intent:z.a.PRIMARY,onChange:this.handleChange,value:this.state.password}),r.a.createElement(_.a,{type:"submit",role:"button"},"Sign in"))})}}]),t}(n.Component),$=Object(g.b)(function(e){return{login:e.data.login}},function(e){return Object(c.b)({signInUser:U},e)})(X),Q=a(417),Z=function(e){function t(){return Object(E.a)(this,t),Object(O.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement(Q.a,{style:{textDecoration:"none",color:"#e3e6e4"},to:this.props.to},this.props.content)}}]),t}(r.a.Component),ee=a(276),te=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(w.a)(t).call(this,e))).signout=function(){a.props.signOutUser()},a.state={},a}return Object(N.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement(Z,{onClick:this.signout,to:"/",content:r.a.createElement("button",{className:"bp3-button bp3-minimal bp3-icon-log-out",onClick:this.signout},"Logout")})}}]),t}(n.Component),ae=Object(g.b)(function(e){return{}},function(e){return Object(c.b)({signOutUser:A},e)})(te),ne=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(w.a)(t).call(this,e))).state={},a}return Object(N.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return this.props.loadUserName?r.a.createElement(ee.a,{size:25}):"7EtQI6poyZaTq4kuFqfibmVzI5F3"===this.props.userInfo.uid?r.a.createElement(Y.a,{className:"profile-options",interactionKind:Y.b.HOVER,popoverClassName:"bp3-popover-content-sizing",position:W.a.BOTTOM,target:r.a.createElement(Z,{to:"/admin",content:r.a.createElement("button",{className:"bp3-button bp3-minimal bp3-icon-helper-management"},"Admin")}),content:r.a.createElement("div",{className:"flex flex-column"},r.a.createElement(ae,null))}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{to:"/map",content:r.a.createElement("button",{className:"bp3-button bp3-minimal bp3-icon-map"},"Map")}),r.a.createElement(Y.a,{className:"profile-options",interactionKind:Y.b.HOVER,popoverClassName:"bp3-popover-content-sizing",position:W.a.BOTTOM,target:r.a.createElement(_.a,{rightIcon:"cog",className:"bp3-button bp3-minimal"},this.props.userInfo.username),content:r.a.createElement("div",{className:"flex flex-column"},r.a.createElement(Z,{to:"/profile",content:r.a.createElement("div",{className:"bp3-button bp3-minimal bp3-icon-user"},"Profile")}),r.a.createElement(ae,null))}))}}]),t}(n.Component),re=Object(g.b)(function(e){return{userInfo:e.data.userInfo,loadUserName:e.loaders.loadUserName}},function(e){return Object(c.b)({},e)})(ne),oe=a(54),se=a.n(oe),ce=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(w.a)(t).call(this,e))).state={},a}return Object(N.a)(t,e),Object(y.a)(t,[{key:"componentWillMount",value:function(){this.props.getGeo(this.props.parkinglot),window.localStorage.removeItem("LOGIN")}},{key:"componentDidMount",value:function(){var e=this;k.onAuthStateChanged(function(t){t?(e.props.changeLogin(!0),window.localStorage.setItem("LOGIN","yes"),e.props.fetchInfo(),e.props.fetchCars(),e.props.fetchBookings()):(e.props.changeLogin(!1),window.localStorage.removeItem("LOGIN"))})}},{key:"render",value:function(){return r.a.createElement(oe.Fade,null,r.a.createElement("nav",{className:"bp3-navbar bp3-dark header",style:this.props.headerBkg?{color:"#f5f8fa",fontWeight:600,backgroundColor:"rgba(0,0,0,0)",boxShadow:"none"}:{color:"#f5f8fa",backgroundColor:"",boxShadow:""}},r.a.createElement("div",{style:{margin:"0 auto",width:"100%"}},r.a.createElement("div",{className:"bp3-navbar-group bp3-align-left"},r.a.createElement(Z,{to:"/",content:r.a.createElement("div",{className:"bp3-navbar-heading"},"OptiPark")})),r.a.createElement("div",{className:"bp3-navbar-group bp3-align-right"},r.a.createElement(Z,{to:"/",content:r.a.createElement("button",{className:"bp3-button bp3-minimal bp3-icon-home"},"Home")}),r.a.createElement(Z,{to:"/contact",content:r.a.createElement("button",{className:"bp3-button bp3-minimal bp3-icon-annotation"},"Contact")}),r.a.createElement("span",{className:"bp3-navbar-divider"}),this.props.login&&this.props.userInfo?r.a.createElement(r.a.Fragment,null,r.a.createElement(re,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement($,null),r.a.createElement(V,null))))))}}]),t}(n.Component),ie=Object(g.b)(function(e){var t=e.data,a=t.login,n=t.userInfo,r=e.global;return{login:a,userInfo:n,headerBkg:r.headerBkg,parkinglot:r.parkinglot}},function(e){return Object(c.b)({fetchInfo:F,fetchCars:L,fetchBookings:P,changeLogin:T,getGeo:B},e)})(ce),le=function(e){return function(t){t({type:"SET-HEADER-BKG",payload:e})}},ue=function(e,t,a,n){return function(){var r=Object(I.a)(x.a.mark(function r(o){return x.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:j.collection("contactForms").doc(t).collection("forms").doc(n+"-"+e).set({text:a,email:e,date:n}).then(function(){o(fe("Thank you for your request",!0,"success",1500))}).catch(function(e){console.log("CONTACT-FORM-ERROR",e),o(fe("Error submitting your contact request",!0,"error",1500))});case 1:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()},pe=function(e,t){return function(){var a=Object(I.a)(x.a.mark(function a(n){return x.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:j.collection("users").doc(k.currentUser.uid).collection("cars").doc(e).set({lp:e,carName:t}),n({type:"TOASTER",message:"Car added",show:!0,toastType:"success",time:1500});case 2:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},de=function(e){return function(){var t=Object(I.a)(x.a.mark(function t(a){return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:j.collection("users").doc(k.currentUser.uid).collection("cars").doc(e).delete().then(function(){a(fe("Car deleted",!0,"success",1500))}).catch(function(){a(fe("Error deleting the car",!0,"error",1500))});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},he=function(e,t){return function(){var a=Object(I.a)(x.a.mark(function a(n){return x.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:j.collection("users").doc(k.currentUser.uid).collection("bookings").doc(""+t).set({car:e,date:t}),n({type:"TOASTER",message:"Booked a spot",show:!0,toastType:"success",time:1500});case 2:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},me=function(e){return function(){var t=Object(I.a)(x.a.mark(function t(a){return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e),j.collection("users").doc(k.currentUser.uid).collection("bookings").doc(""+e).delete().then(function(){a(fe("Booking deleted",!0,"success",1500))}).catch(function(){a(fe("Error deleting booking",!0,"error",1500))});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},fe=function(e,t,a,n){return function(r){r({type:"TOASTER",message:e,show:t,toastType:a,time:n})}},ge=function(e){return function(t){console.log(e),t({type:"SHOW-JOIN",payload:e})}},ve=a(277),be=a(118),Ee=a(278),ye=a.n(Ee),Oe=a(279),we=a.n(Oe),Ne=a(280),Ce=a.n(Ne),je=a(281),ke=a.n(je),Se=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(w.a)(t).call(this,e))).handleSetActive=function(e){console.log("click")},a.handleRadioSelected=function(e){console.log(e.target.id.replace("div","")),a.setState({currDiv:e.target.id.replace("div","")})},a.state={currDiv:0},a}return Object(N.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"radio-selectors"},r.a.createElement(be.Link,{className:"radio-selectors-item",onClick:this.handleRadioSelected,id:"div0",style:{backgroundColor:this.props.radioColor},smooth:!0,to:"div0",offset:-50,duration:500,onSetActive:this.handleSetActive}),r.a.createElement(be.Link,{className:"radio-selectors-item",onClick:this.handleRadioSelected,id:"div1",style:{backgroundColor:this.props.radioColor},smooth:!0,to:"div1",offset:-50,duration:500,onSetActive:this.handleSetActive}),r.a.createElement(be.Link,{className:"radio-selectors-item",onClick:this.handleRadioSelected,id:"div2",style:{backgroundColor:this.props.radioColor},smooth:!0,to:"div2",offset:-50,duration:500,onSetActive:this.handleSetActive}),r.a.createElement(be.Link,{className:"radio-selectors-item",onClick:this.handleRadioSelected,id:"div3",style:{backgroundColor:this.props.radioColor},smooth:!0,to:"div3",offset:-50,duration:500,onSetActive:this.handleSetActive})),r.a.createElement("div",{className:"sub-container-home"},r.a.createElement(be.Element,{className:"text-container-home flex",name:"div0"},r.a.createElement(oe.Fade,{left:!0},r.a.createElement("div",{className:"text-right",style:{flex:.5}},"The simple usage of the map will direct you to the closest available parking spot.")),r.a.createElement("div",{style:{flex:.5}},r.a.createElement(oe.Fade,{bottom:!0},r.a.createElement("img",{src:we.a,className:"laptop"})))),r.a.createElement(be.Element,{className:"text-container-home colored-text-container flex",name:"div1"},r.a.createElement("div",{style:{flex:.5}},r.a.createElement(oe.Fade,{left:!0},r.a.createElement("img",{src:ye.a,className:"book"}))),r.a.createElement(oe.Fade,{right:!0},r.a.createElement("div",{className:"text-left",style:{flex:.5}},"To ensure a spot is available at your arrival, you can simply book a spot before hand."))),r.a.createElement(be.Element,{className:"text-container-home flex",name:"div2"},r.a.createElement(oe.Fade,{left:!0},r.a.createElement("div",{style:{flex:.5},className:"text-right"},"The web page also hands you the expected demand and availability for the parking lot.")),r.a.createElement("div",{style:{flex:.5}},r.a.createElement(oe.Fade,{right:!0},r.a.createElement("img",{src:Ce.a,className:"laptop"})))),r.a.createElement(be.Element,{className:"text-container-home colored-text-container flex",name:"div3"},r.a.createElement("div",{style:{flex:.5}},r.a.createElement(oe.Fade,{left:!0},r.a.createElement("img",{src:ke.a,className:"book"}))),r.a.createElement(oe.Fade,{right:!0},r.a.createElement("div",{style:{flex:.5},className:"text-right"},"Feel free to contact us either through the contact form, or the live chat if you have questions or need to come in contact.")))))}}]),t}(n.Component),xe=Object(g.b)(function(e){return Object(ve.a)(e),{}},function(e){return Object(c.b)({},e)})(Se),Ie=a(80),Te=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(w.a)(t).call(this,e))).handleMouseMove=function(e){e.screenY>window.innerHeight&&!a.state.showUp&&a.setState({showUp:!a.state.showUp}),e.screenY<window.innerHeight&&a.state.showUp&&a.setState({showUp:!a.state.showUp})},a.handleScroll=function(){window.scrollY>200&&a.state.above&&a.setState({scroll:window.scrollY,radioColor:"rgb(57, 75, 89)",above:!a.state.above}),window.scrollY<200&&!a.state.above&&a.setState({scroll:window.scrollY,radioColor:"white",above:!a.state.above})},a.handleSetActive=function(e){console.log("click")},a.handleRadioSelected=function(e){console.log(e.target.id.replace("div","")),a.setState({currDiv:e.target.id.replace("div","")})},a.scrollTop=function(){window.scrollTo({top:0,left:0,behavior:"smooth"})},a.state={divRef:1,scroll:0,radioColor:"white",above:!0,show:!1,currDiv:0},a}return Object(N.a)(t,e),Object(y.a)(t,[{key:"componentWillMount",value:function(){this.props.changeHeaderBkg(!0),window.addEventListener("scroll",this.handleScroll),window.addEventListener("mousemove",this.handleMouseMove),this.props.showJoin(!0)}},{key:"componentWillUnmount",value:function(){this.props.changeHeaderBkg(!1),window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("mousemove",this.handleMouseMove)}},{key:"render",value:function(){return r.a.createElement("div",{className:"home-container"},r.a.createElement("div",{className:"hero"}),r.a.createElement(oe.Fade,{cascade:!0},r.a.createElement("div",{className:"hero-text"},r.a.createElement("div",{className:"title-text"},r.a.createElement("b",null,r.a.createElement("span",{style:{color:"#4580E6"}},"Opti"),"Park")),r.a.createElement("div",{className:"title-subtext"},"Parking made easy"))),r.a.createElement(xe,{radioColor:this.state.radioColor}),this.state.showUp?r.a.createElement(Ie.a,{style:{color:""},onClick:this.scrollTop,icon:"upload",iconSize:18,className:"scrollTopIcon showUp"}):null)}}]),t}(n.Component),De=Object(g.b)(function(e){return{headerBkg:e.global.headerBkg,login:e.data.login}},function(e){return Object(c.b)({changeHeaderBkg:le,showJoin:ge},e)})(Te),Me=a(418),Ue=a(419),Re=a(431),Ae=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(w.a)(t).call(this,e))).handleInput=function(e){a.setState(Object(G.a)({},e.target.id,e.target.value))},a.checkTarget=function(e){var t=e.target.tagName;return"path"===t?e.target.parentElement.parentElement.parentElement:"svg"===t?e.target.parentElement.parentElement:"DIV"===t?e.target:void 0},a.addCar=function(e){e.preventDefault(),""!==a.state.regNr&&(console.log("ADD CAR"),a.props.addCar(a.state.regNr,a.state.carName),a.setState({carName:"",regNr:""}))},a.deleteCar=function(e){var t=a.checkTarget(e);a.props.deleteCar(t.id)},a.deleteBooking=function(e){var t=a.checkTarget(e);a.props.deleteBooking(t.id)},a.updateUserInfo=function(e){e.preventDefault(),a.props.updateUserInfo(a.state.email,a.state.username)},a.state={carName:"",regNr:"",email:"",username:""},a}return Object(N.a)(t,e),Object(y.a)(t,[{key:"componentDidUpdate",value:function(e){e.userInfo!==this.props.userInfo&&this.setState({email:this.props.userInfo.email,username:this.props.userInfo.username})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"profile-container flex"},this.props.userInfo?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"profile-child"},r.a.createElement(Ie.a,{icon:"user"})," User info",r.a.createElement(Me.a,null),r.a.createElement("form",{className:"user-info",onSubmit:this.updateUserInfo},r.a.createElement("label",{to:"email",className:"user-info-label"},"Email:"),r.a.createElement(H.a,{id:"email",type:"email",className:"user-info-field",placeholder:"Email",leftIcon:"user",onChange:this.handleInput,value:this.state.email,autoFocus:!0}),r.a.createElement("label",{to:"usename",className:"user-info-label"},"Username:"),r.a.createElement(H.a,{id:"username",type:"text",className:"user-info-field",placeholder:"Username",leftIcon:"id-number",onChange:this.handleInput,value:this.state.username,autoFocus:!0}),r.a.createElement(_.a,{type:"submit",intent:"primary"},"Update info"))),r.a.createElement("div",{className:"profile-child"},r.a.createElement(Ie.a,{icon:"timeline-events"}),"Bookings",r.a.createElement(Me.a,null),this.props.userBookings?Object.keys(this.props.userBookings).map(function(t){return r.a.createElement(oe.Fade,{bottom:!0},r.a.createElement("div",{className:"booking-item flex",key:"book-"+t},r.a.createElement("div",{className:"book-info",style:{flex:.9}},r.a.createElement(Re.a,null,r.a.createElement(Ie.a,{icon:"calendar"})," "+e.props.userBookings[t].niceDate),r.a.createElement(Re.a,null,r.a.createElement(Ie.a,{icon:"drive-time"})," "+e.props.userBookings[t].car)),r.a.createElement("div",{className:"book-item-hover",onClick:e.deleteBooking,id:e.props.userBookings[t].date,style:{flex:.1}},r.a.createElement(Ie.a,{icon:"trash",className:"book-icon"}))))}):r.a.createElement("div",null,"You haven't booked any spots ",r.a.createElement(Q.a,{to:"/map"},r.a.createElement(Ie.a,{icon:"send-to-map"})))),r.a.createElement("div",{className:"profile-child"},r.a.createElement(Ie.a,{icon:"drive-time"}),"Cars",r.a.createElement(Me.a,null),r.a.createElement("form",{onSubmit:this.addCar},r.a.createElement(H.a,{id:"regNr",className:"regNr-input",type:"text",placeholder:"License plate number",leftIcon:"unknown-vehicle",onChange:this.handleInput,value:this.state.regNr,autoFocus:!0}),r.a.createElement(H.a,{id:"carName",className:"carName-input",type:"text",placeholder:"Car name (optional)",leftIcon:"manually-entered-data",onChange:this.handleInput,value:this.state.carName}),r.a.createElement(_.a,{type:"submit",role:"button",intent:"primary",style:{marginTop:"5px",justifyContent:"end"}},"Add car")),this.props.userCars?Object.keys(this.props.userCars).map(function(t){return r.a.createElement(oe.Fade,{bottom:!0},r.a.createElement("div",{className:"car-item flex",key:"car-"+e.props.userCars[t].lp},r.a.createElement(Ie.a,{icon:"drive-time",iconSize:20,style:{flex:.2}}),r.a.createElement("div",{style:{flex:.7}},r.a.createElement("div",null,"License: "+e.props.userCars[t].lp),e.props.userCars[t].carName?r.a.createElement("div",null,"Name: "+e.props.userCars[t].carName):null),r.a.createElement("div",{className:"delete-car",id:e.props.userCars[t].lp,onClick:e.deleteCar,style:{flex:.1}},r.a.createElement(Ie.a,{icon:"trash"}))))}):r.a.createElement("div",null,"You don't have any cars"))):r.a.createElement(Ue.a,null))}}]),t}(n.Component),Fe=Object(g.b)(function(e){var t=e.data;return{userBookings:t.userBookings,userCars:t.userCars,userInfo:t.userInfo}},function(e){return Object(c.b)({updateUserInfo:R,addCar:pe,deleteCar:de,deleteBooking:me},e)})(Ae),Le=a(426),Pe=a(425),Be=a(430),Ge=a(428),Ye=a(421),We=a(57),_e=a.n(We),He=a(288),ze=function e(t){var a=this;Object(E.a)(this,e),this.addVertex=function(e){a.adjList.set(e,{})},this.addEdge=function(e,t,n,r){a.adjList.get(e)[t]={len:n,latlnglen:r}},this.getNode=function(e){return Object(He.a)(a.adjList.keys()).find(function(t){return t===e})},this.getLength=function(){return a.adjList.size},this.printGraph=function(){var e=a.adjList.keys(),t=!0,n=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var c=o.value,i=a.adjList.get(c),l="";Object.keys(i).forEach(function(e){l+=e+", "}),console.log(c+" -> "+l)}}catch(u){n=!0,r=u}finally{try{t||null==s.return||s.return()}finally{if(n)throw r}}},this.noOfVertices=t,this.adjList=new Map},Je=function(e,t){var a=[e[0]*Math.PI/180,e[1]*Math.PI/180],n=[t[0]*Math.PI/180,t[1]*Math.PI/180],r=6371e3,o=r*Math.cos(a[0])*Math.cos(a[1]),s=r*Math.cos(n[0])*Math.cos(n[1]),c=r*Math.cos(a[0])*Math.sin(a[1]),i=r*Math.cos(n[0])*Math.sin(n[1]),l=r*Math.sin(a[0]),u=r*Math.sin(n[0]);return Math.sqrt(Math.pow(o-s,2)+Math.pow(c-i,2)+Math.pow(l-u,2))},qe=function(e,t){return Object.keys(e).reduce(function(a,n){return(null===a||e[n].len<e[a].len)&&(t.includes(n)||(a=n)),a},null)},Ke=function(e,t,a,n){Ve(e,n,a);var r=Math.pow(10,1e3),o="",s=[];return Object.keys(t).forEach(function(a){if(0===t[a].properties.status){var n=function(e,t,a){var n=e.adjList.get(t),r=Object.assign(Object(G.a)({},a,{len:Math.pow(10,1e3)}),n),o=Object(G.a)({},a,null);for(var s in n)o[s]=t;for(var c=[],i=qe(r,c);i;){var l=r[i].len,u=e.adjList.get(i);for(var p in u){var d=l+u[p].len;r[p]||(r[p]={len:d},o[p]=i),r[p].len>d&&(r[p].len=d,o[p]=i)}c.push(i),i=qe(r,c)}for(var h=o[a],m=[[a,r[h].len]];h;)r[h]?m.push([h,r[h].len]):m.push([h,0]),h=o[h];return m.reverse(),{distance:r[a].len,path:m}}(e,e.getNode("userPos"),e.getNode(t[a].properties.name)),c=n.distance;c<r&&(r=c,o=t[a].properties.name,s=n.path)}}),[o,s]},Ve=function(e,t,a){var n=function(e,t){var a=Math.pow(10,1e3),n="";return Object.keys(t).forEach(function(r){var o=t[r].geometry.coordinates,s=Je(e,o);s<a&&(a=s,n=t[r].properties.name)}),[n,a]}(t,a);e.addVertex("userPos"),e.addEdge("userPos",n[0],n[1],"")},Xe=function(e,t){var n=a(394);n=n.matrix;for(var r=new ze,o=n[0],s=1;s<o.length;s++)r.addVertex(o[s]);for(var c=function(a){for(var s=function(s){if(1===n[a][s]){var c=0,i=0;"h"===o[a].split("")[0]&&Object.keys(t).forEach(function(e){t[e].properties.name===o[a]&&(c=t[e].geometry.coordinates)}),"h"===o[s].split("")[0]&&Object.keys(t).forEach(function(e){t[e].properties.name===o[s]&&(i=t[e].geometry.coordinates)}),"s"===o[a].split("")[0]&&Object.keys(e).forEach(function(t){e[t].properties.name===o[a]&&(c=e[t].geometry.coordinates)}),"s"===o[s].split("")[0]&&Object.keys(e).forEach(function(t){e[t].properties.name===o[s]&&(i=e[t].geometry.coordinates)}),r.addEdge(o[a],o[s],Je(c,i),function(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}(c,i))}},c=1;c<n[a].length;c++)s(c)},i=1;i<n.length;i++)c(i);return r},$e=function(e,t,a,n){var r=[];return r.push(e),Object.keys(t).forEach(function(e){if("s"===t[e][0].split("")[0]){var o=Ze(a,t[e][0]);r.push({lat:o[0],lng:o[1]})}if("h"===t[e][0].split("")[0]){var s=Ze(n,t[e][0]);r.push({lat:s[0],lng:s[1]})}}),r},Qe=function(e){var t=[Math.pow(10,1e3),-Math.pow(10,1e3)],a=[-Math.pow(10,1e3),Math.pow(10,1e3)];return Object.keys(e).forEach(function(n){e[n][0]<t[0]&&(t[0]=e[n][0]),e[n][0]>a[0]&&(a[0]=e[n][0]),e[n][1]>t[1]&&(t[1]=e[n][1]),e[n][1]<a[1]&&(a[1]=e[n][1])}),[t,a]},Ze=function(e,t){var a=[];return Object.keys(e).find(function(n){e[n].properties.name===t&&(a=e[n].geometry.coordinates)}),a},et=function(e,t){var a=0;return Object.keys(e).find(function(n){e[n].properties.name===t&&(a=n)}),a},tt=function(e,t){var a=t.lng-e.lng,n=Math.cos(t.lat)*Math.sin(a),r=Math.cos(e.lat)*Math.sin(t.lat)-Math.sin(e.lat)*Math.cos(t.lat)*Math.cos(a);console.log(n,r);var o=Math.atan2(n,r);return o=360-(o=((o=function(e){var t=Math.PI;return e*(180/t)}(o))+360)%360)};var at=function(e){return e<90?1:e<180?2:e<270?3:4},nt=function(e,t){var a=e-t;return 0===a?"straight":-1===a||3===a?"Right":-2===a||2===a?"delete":-3===a||1===a?"Left":void 0},rt=a(420),ot=a(215),st=a(290),ct=a(291),it=a(424),lt=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(w.a)(t).call(this,e))).checkTarget=function(e){var t=e.target.tagName;return console.log(t),"path"===t?e.target.parentElement.parentElement.parentElement:"svg"===t?e.target.parentElement.parentElement:"A"===t?e.target:e.target.parentElement},a.showDrawer=function(){a.setState({showDrawer:!a.state.showDrawer})},a.selectCar=function(e){e.preventDefault();var t=a.checkTarget(e);a.setState({selectedCar:t.id})},a.handleDate=function(e){a.setState({selectedDate:e})},a.bookSpot=function(){a.props.bookSpot(a.state.selectedCar,a.state.selectedDate.getTime())},a.state={showDrawer:!1,selectedDate:new Date,selectedCar:""},a}return Object(N.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(rt.a,{transitionDuration:3e3,onClose:this.showDrawer,title:"Book a spot!",isOpen:this.state.showDrawer},r.a.createElement("div",{className:ot.a.DRAWER_BODY},r.a.createElement("div",{className:ot.a.DIALOG_BODY},this.props.userCars?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Choose a car"),r.a.createElement(st.a,{className:ot.a.ELEVATION_1+" car-menu"},Object.keys(this.props.userCars).map(function(t){return r.a.createElement(ct.a,{icon:"drive-time",id:e.props.userCars[t].lp,key:e.props.userCars[t].lp,onClick:e.selectCar,text:e.props.userCars[t].carName+" "+e.props.userCars[t].lp})}))):r.a.createElement("div",null,r.a.createElement("i",null,"You dont have any cars "),r.a.createElement(Q.a,{to:"/profile"},r.a.createElement(Ie.a,{icon:"insert"}))),r.a.createElement(Me.a,null),r.a.createElement("div",null,"Select a date"),r.a.createElement(it.a,{onChange:this.handleDate,value:this.state.selectedDate,timePrecision:"minute"}),r.a.createElement(_.a,{intent:"primary",onClick:this.bookSpot},"Book"))),r.a.createElement("div",{className:ot.a.DRAWER_FOOTER})),this.state.showDrawer?null:r.a.createElement("div",{className:"drawer-teaser",onClick:this.showDrawer},r.a.createElement(Ie.a,{className:"draw-icon",icon:"drag-handle-vertical"})))}}]),t}(n.Component),ut=Object(g.b)(function(e){return{userCars:e.data.userCars}},function(e){return Object(c.b)({bookSpot:he},e)})(lt),pt=a(284),dt=a.n(pt),ht=a(285),mt=a.n(ht),ft=a(142),gt=a(141),vt=a.n(gt),bt=a(160),Et=a(73),yt=a(245);bt.b(yt.a);var Ot=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(O.a)(this,Object(w.a)(t).call(this,e))).state={loading:!0,predictedData:[],processedData:[],daysBackward:1,daysForward:1,oppositePredictedData:[]},n.componentDidMount=function(){var e=[],t=[];fetch(a(401)).then(function(e){return e.text()}).then(function(a){for(var r=a.split("\n"),o=0;o<r.length;o++)if(r[o].length>0){var s=r[o].split(","),c=new Date(s[0]),i=532-parseInt(s[1]);e.push({date:c,value:i,color:"#7dabf4"}),t.push({date:c,value:532-i,color:"#7dabf4"})}n.setState({predictedData:e,oppositePredictedData:t})}),bt.b(yt.a);var r=bt.a("chartdiv",Et.f),o=r.xAxes.push(new Et.b);o.dataFields.category="date",o.renderer.grid.template.location=0,o.renderer.minGridDistance=40;r.yAxes.push(new Et.d);var s=r.series.push(new Et.a);s.dataFields.valueY="value",s.dataFields.dateX="date",s.columns.template.propertyFields.fill="color",s.columns.template.propertyFields.stroke="color",s.name="Visits",s.columns.template.tooltipText="{categoryX}: [bold]{valueY}[/]",s.columns.template.fillOpacity=.8;var c=s.columns.template;c.strokeWidth=2,c.strokeOpacity=1;var i=Object(ft.a)(Object(ft.a)(n));vt.a.ajax({url:"https://data.smgov.net/resource/tce2-7ir6.json",type:"GET",data:{$limit:1e5,lot_name:"Library",$$app_token:"Ul8sMHNswBDXCzvlAxpqI6x1Q"},dataFilter:function(e){var t=JSON.parse(e),a=new Date,n=new Date;a.setDate(a.getDate()-1);var r=t.filter(function(e){var t=new Date(e.date_time);return t.toISOString()>=a.toISOString()&&t.toISOString()<=n.toISOString()});return JSON.stringify(r)}}).done(function(e){var t=i.filterData(e,0);r.data=t,i.chart=r,i.setState({loading:!1,processedData:t}),i.initiateOtherCharts(e)})},n.initiateOtherCharts=function(e){var t=bt.a("chartdiv2",Et.e);t.paddingRight=20,t.xAxes.push(new Et.b).renderer.grid.template.location=0;var a=t.yAxes.push(new Et.d);a.tooltip.disabled=!0,a.renderer.minWidth=35;var r=t.series.push(new Et.c);r.dataFields.dateX="date",r.dataFields.valueY="value",r.tooltipText="{valueY.value}",t.cursor=new Et.h;var o=new Et.g;o.series.push(r),t.scrollbarX=o,t.data=n.filterData(e,1),n.chart2=t},n.handleChange=function(e){n.setState(Object(G.a)({},e.target.id,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.loadData()},n.filterData=function(e,t){if(0===t){for(var a,r=[],o=0;o<e.length;o++){var s=532-parseInt(e[o].available_spaces),c=e[o].date_time;0===new Date(c).getMinutes()&&r.push({date:new Date(c),value:s,color:"#4181e7"})}r[r.length-1].color="#d02878",r.sort(function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()}),r.length>0&&(a=r[r.length-1]);var i=new Date;i.setDate(a.date.getDate()+parseInt(n.state.daysForward));for(var l=0;l<n.state.predictedData.length;l++)n.state.predictedData[l].date>a.date&&n.state.predictedData[l].date<=i&&0===n.state.predictedData[l].date.getMinutes()&&r.push(n.state.predictedData[l]);return r}for(var u,p=[],d=0;d<e.length;d++){var h=parseInt(e[d].available_spaces),m=e[d].date_time;p.push({date:new Date(m),value:h,color:"#4181e7"})}p[p.length-1].color="#d02878",p.sort(function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()}),p.length>0&&(u=p[p.length-1]);var f=new Date;f.setDate(u.date.getDate()+parseInt(n.state.daysForward));for(var g=0;g<n.state.oppositePredictedData.length;g++)n.state.oppositePredictedData[g].date>u.date&&n.state.oppositePredictedData[g].date<=f&&p.push(n.state.oppositePredictedData[g]);return p},n.loadData=function(){var e=bt.a("chartdiv2",Et.e);e.paddingRight=20,e.xAxes.push(new Et.b).renderer.grid.template.location=0;var t=e.yAxes.push(new Et.d);t.tooltip.disabled=!0,t.renderer.minWidth=35;var a=e.series.push(new Et.c);a.dataFields.dateX="date",a.dataFields.valueY="value",a.tooltipText="{valueY.value}",e.cursor=new Et.h;var r=new Et.g;r.series.push(a),e.scrollbarX=r;var o=Object(ft.a)(Object(ft.a)(n));vt.a.ajax({url:"https://data.smgov.net/resource/tce2-7ir6.json",type:"GET",data:{$limit:1e5,lot_name:"Library",$$app_token:"Ul8sMHNswBDXCzvlAxpqI6x1Q"},dataFilter:function(e){var t=JSON.parse(e),a=new Date,n=new Date;a.setDate(a.getDate()-parseInt(o.state.daysBackward));var r=t.filter(function(e){var t=new Date(e.date_time);return t.toISOString()>=a.toISOString()&&t.toISOString()<=n.toISOString()});return JSON.stringify(r)}}).done(function(t){var a=o.filterData(t,1);e.data=a,o.chart2=e,o.setState({loading:!1})})},n}return Object(N.a)(t,e),Object(y.a)(t,[{key:"componentWillUnmount",value:function(){this.chart&&this.chart.dispose()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,this.state.loading?r.a.createElement("div",{class:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)):null),r.a.createElement("div",{className:"subtext__container"},this.state.loading?null:r.a.createElement("div",{className:"subtext"},"Parking lot demand")),r.a.createElement("div",{className:"chart1",id:"chartdiv",style:{height:"150px",maxWidth:"30vw"}}),r.a.createElement("div",{className:"subtext__container",style:{marginTop:"10px",marginBottom:"0px"}},this.state.loading?null:r.a.createElement("div",{className:"subtext"},"Number of available spots")),r.a.createElement("form",{className:"flex",onSubmit:this.handleSubmit},r.a.createElement(H.a,{type:"text",placeholder:"Enter backwards",id:"daysBackward",onChange:this.handleChange}),r.a.createElement(H.a,{type:"text",placeholder:"Enter forwards",id:"daysForward",onChange:this.handleChange})),r.a.createElement("div",{id:"chartdiv2",style:{width:"90%",height:"200px"}}))}}]),t}(n.Component),wt=new _e.a.Icon({iconUrl:a(402),iconSize:[30,30]}),Nt=new _e.a.Icon({iconUrl:a(403),iconSize:[10,10]}),Ct=[15,15],jt=new _e.a.Icon({iconUrl:a(404),iconSize:Ct}),kt=new _e.a.Icon({iconUrl:a(405),iconSize:Ct}),St=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(w.a)(t).call(this,e))).assignSensor=function(){var e=Ke(a.state.g,a.props.sensors,a.props.support,[a.state.currPos.lat,a.state.currPos.lng]),t=e[0],n=e[1];if(console.log(t,n),0===t.length&&0===n.length&&Object(J.toast)("The parking lot is full",{type:J.toast.TYPE.ERROR,autoClose:1500}),Je([a.state.currPos.lng,a.state.currPos.lng],Ze(a.props.sensors,t))<4)return a.props.changeSpotStatus("Library",et(a.props.sensors,t),1),a.setState({path:null,direction:null,currDistance:null,spot:t,totDistance:null,showDistance:!1,latlngs:null}),null;var r=a.getNodeCoord(n[1][0]),o=a.getNodeCoord(n[2][0]);console.log(r,o);var s=at(tt(a.state.currPos,r)),c=at(tt(r,o));console.log(s,c);var i=nt(s,c);"delete"===i&&n.splice(1,1);for(var l=0,u=1;u<n.length-1&&(r=a.getNodeCoord(n[u][0]),o=a.getNodeCoord(n[u+1][0]),s=at(tt(a.state.currPos,r)),c=at(tt(r,o)),i=nt(s,c),l=n[u][1],"Right"!==i&&"Left"!==i);u++);a.setState({path:n,spot:t,show:!a.state.showDistance,showDistance:!0,totDistance:n[n.length-1][1],currDistance:l,direction:i,directionIcon:"Right"===i?dt.a:mt.a,latlngs:$e(a.state.currPos,e[1],a.props.sensors,a.props.support)})},a.getNodeCoord=function(e){var t={};return"h"===e.split("")[0]&&(t={lat:(t=Ze(a.props.support,e))[0],lng:t[1]}),"s"===e.split("")[0]&&(t={lat:(t=Ze(a.props.sensors,e))[0],lng:t[1]}),t},a.changeUserPos=function(e){var t=e.latlng.lat,n=e.latlng.lng;a.setState({currPos:{lat:t,lng:n}})},a.showNode=function(e){console.log(e.target.options.id)},a.state={loadingMap:!0,currPos:{lat:0,lng:0},direction:"straight",showDrawer:!1},a}return Object(N.a)(t,e),Object(y.a)(t,[{key:"componentWillMount",value:function(){this.props.sensors&&this.props.support&&this.props.corners&&this.setState({g:Xe(this.props.sensors,this.props.support),bbox:Qe(this.props.corners),loadingMap:!this.state.loadingMap})}},{key:"componentDidUpdate",value:function(e,t){e.sensors!==this.props.sensors&&this.props.sensors&&this.props.support&&this.props.corners&&this.state.loadingMap&&this.setState({g:Xe(this.props.sensors,this.props.support),bbox:Qe(this.props.corners),loadingMap:!this.state.loadingMap}),t.currPos!=this.state.currPos&&this.assignSensor()}},{key:"render",value:function(){var e=this;return this.props.login?r.a.createElement("div",{className:"map-container flex"},r.a.createElement("div",{className:"chart-container"},r.a.createElement(Ot,null)),this.state.loadingMap?r.a.createElement("div",{className:"progressBar"},"Loading map",r.a.createElement(Ue.a,null)):r.a.createElement(Pe.a,{bounds:this.state.bbox,style:{width:"100%",height:"100%",zIndex:2,flex:.7,minWidth:"70%"},onClick:this.changeUserPos},r.a.createElement(Be.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),this.state.path&&this.state.latlngs?r.a.createElement(Ge.a,{positions:this.state.latlngs,weight:5}):null,Object.keys(this.props.sensors).map(function(t){return r.a.createElement(Ye.a,{id:e.props.sensors[t].properties.name,onClick:e.showNode,key:t,position:[e.props.sensors[t].geometry.coordinates[0],e.props.sensors[t].geometry.coordinates[1]],icon:0===e.props.sensors[t].properties.status?jt:kt})}),this.state.path&&this.state.latlngs?Object.keys(this.state.path).map(function(t){var a=[];if("h"===e.state.path[t][0].split("")[0]){a=Ze(e.props.support,e.state.path[t][0]);var n=et(e.props.support,e.state.path[t][0]),o=e.props.support[n].properties.name;return r.a.createElement(Ye.a,{id:o,onClick:e.showNode,key:"supp"+t,position:{lat:a[0],lng:a[1]},icon:Nt})}}):null,r.a.createElement(Ye.a,{icon:wt,position:this.state.currPos})),this.state.totDistance?r.a.createElement("div",{className:"total-distance"}):null,this.state.directionIcon&&this.state.totDistance&&this.state.currDistance?r.a.createElement("div",{className:"direction-container"},r.a.createElement("img",{className:"direction-icon",src:this.state.directionIcon}),r.a.createElement("div",{className:"distance-curr"},"in "+this.state.currDistance.toFixed(0)+" meters"),r.a.createElement("div",{className:"distance-tot"},"Distance to goal: "+this.state.totDistance.toFixed(0)+"m")):null,r.a.createElement(ut,null)):r.a.createElement(Le.a,{to:"/"})}}]),t}(n.Component),xt=Object(g.b)(function(e){var t=e.data;return{login:t.login,userInfo:t.userInfo,support:t.support,sensors:t.sensors,corners:t.corners}},function(e){return Object(c.b)({},e)})(St),It=a(422),Tt=a(243),Dt=a(423),Mt=function(){return function(){var e=Object(I.a)(x.a.mark(function e(t){var a,n;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a="7EtQI6poyZaTq4kuFqfibmVzI5F3",n=(new Date).getTime(),j.collection("chats").doc(""+n).set({users:{uid:k.currentUser.uid,name:k.currentUser.email.split("@")[0],admin:a},initDate:n}).then(function(){var e=new Date(n).toLocaleString();e=e.slice(0,e.length-3),j.collection("chats").doc(""+n).collection("chat").doc(""+n).set({post:"Welcome. Feel free to ask about the website",date:e,uid:a})}).then(function(){j.collection("chats").doc(""+n).onSnapshot(function(e){t({type:"GET-CHAT",payload:e.data()})})}).then(function(){j.collection("chats").doc(""+n).collection("chat").onSnapshot(function(e){var a=[];e.forEach(function(e){a.push(e.data())}),a.length>0&&t({type:"CURRENT-CHAT",payload:a})})});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Ut=function(e,t,a){return function(){var n=Object(I.a)(x.a.mark(function n(r){var o,s;return x.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=(new Date).getTime(),s=(s=new Date(o).toLocaleString()).slice(0,s.length-3),j.collection("chats").doc(""+e).collection("chat").doc(""+o).set({post:t,date:s,createdBy:a});case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},Rt=function(){return function(){var e=Object(I.a)(x.a.mark(function e(t){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:j.collection("chats").onSnapshot(function(e){var a=[];e.forEach(function(e){a.push(e.data())}),a.length>0&&t({type:"ALL-CHATS",payload:a})});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},At=function(e){return function(){var t=Object(I.a)(x.a.mark(function t(a){return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:j.collection("chats").doc(""+e).collection("chat").onSnapshot(function(e){var t=[];e.forEach(function(e){t.push(e.data())}),t.length>0&&a({type:"CURRENT-CHAT",payload:t})});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},Ft=function(){return function(){var e=Object(I.a)(x.a.mark(function e(t){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CURRENT-CHAT",payload:null});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Lt=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(w.a)(t).call(this,e))).handleShow=function(){a.setState({show:!a.state.show})},a.startChat=function(){a.state.show||a.props.newChat(a.props.userInfo.uid),a.setState({show:!a.state.show})},a.addMessage=function(e){e.preventDefault(),a.props.addPost(a.props.chatInfo.initDate,a.state.text,a.props.userInfo.uid),a.setState({text:""})},a.handleText=function(e){a.setState({text:e.target.value})},a.scrollSmoothToBottom=function(){if(a.props.chatMessages){var e=document.getElementById("chat-window");vt()("#chat-window").animate({scrollTop:e.scrollHeight-e.clientHeight},50)}},a.closeChat=function(){a.setState({show:!a.state.show,text:""}),a.props.closeChat()},a.state={show:!1,text:""},a}return Object(N.a)(t,e),Object(y.a)(t,[{key:"componentDidUpdate",value:function(e){e.chatMessages!==this.props.chatMessages&&this.scrollSmoothToBottom()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.props.userInfo?r.a.createElement(Ie.a,{icon:"chat",onClick:this.state.show?this.closeChat:this.startChat,intent:"primary",iconSize:"22",className:"chat-icon"}):null,this.state.show?r.a.createElement(se.a,{right:!0},r.a.createElement("div",{className:"chat-container"},r.a.createElement("div",{style:{textAlign:"end",color:"white",cursor:"pointer",marginBottom:"5pxw"},onClick:this.closeChat},r.a.createElement(Ie.a,{icon:"cross"})),r.a.createElement("div",{className:"chat-window",id:"chat-window"},this.props.chatMessages?Object.keys(this.props.chatMessages).map(function(t){return e.props.chatMessages[t].createdBy===e.props.userInfo.uid?r.a.createElement(r.a.Fragment,{key:"m-"+t},r.a.createElement("div",{className:"chat-message you"},r.a.createElement("div",null,e.props.chatMessages[t].post)),r.a.createElement("div",{className:"message-date-you"},"Sent: "+e.props.chatMessages[t].date)):r.a.createElement(r.a.Fragment,{key:"m-"+t},r.a.createElement("div",{className:"chat-message receiver"},r.a.createElement("div",null,e.props.chatMessages[t].post)),r.a.createElement("div",{className:"message-date-receiver"},"Sent: "+e.props.chatMessages[t].date))}):r.a.createElement(ee.a,{size:25})),r.a.createElement("form",{onSubmit:this.addMessage},r.a.createElement(H.a,{placeholder:"Start say something",value:this.state.text,onChange:this.handleText})))):null)}}]),t}(n.Component),Pt=Object(g.b)(function(e){var t=e.data.userInfo,a=e.global;return{userInfo:t,chatInfo:a.chatInfo,chatMessages:a.chatMessages}},function(e){return Object(c.b)({newChat:Mt,addPost:Ut,closeChat:Ft},e)})(Lt),Bt=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(w.a)(t).call(this,e))).submitContactForm=function(){a.props.showToast||(a.props.submitContactForm(a.state.email,a.state.topicText,a.state.text,(new Date).getTime()),a.setState({text:"",topic:1,topicText:"Bug",email:""}))},a.handleTopicChange=function(e){console.log(e.target),a.setState({topic:parseInt(e.target.value),topicText:e.target.id})},a.handleText=function(e){a.setState(Object(G.a)({},e.target.id,e.target.value))},a.state={text:"",topic:1,topicText:"Bug",email:""},a}return Object(N.a)(t,e),Object(y.a)(t,[{key:"componentWillMount",value:function(){this.props.userInfo&&this.setState({email:this.props.userInfo.email}),this.props.showJoin(!1)}},{key:"componentDidUpdate",value:function(e){e.userInfo!==this.props.userInfo&&this.setState({email:this.props.userInfo.email})}},{key:"render",value:function(){return console.log(this.state.topicText),r.a.createElement("div",{className:"container contact-container flex"},r.a.createElement(oe.Fade,null,r.a.createElement("div",{className:"info-container equal-child"},r.a.createElement("h4",null,"Contact info"),r.a.createElement("div",null,"Address:"),r.a.createElement("i",{className:""},"Univercity of California, Santa Barbara, 93117 Goleta"),r.a.createElement("div",null,"Mobile:"),r.a.createElement("i",null,"+1 111 222 3344"),r.a.createElement("hr",null),r.a.createElement("div",{className:""},"Opening Hours:"),r.a.createElement("div",{className:"opening-hours flex"},r.a.createElement("div",{className:"oh-day"},"Mon: "),r.a.createElement("div",{className:"oh-hour"},"10:00am-5:00pm")),r.a.createElement("div",{className:"opening-hours flex"},r.a.createElement("div",{className:"oh-day"},"Tue: "),r.a.createElement("div",{className:"oh-hour"},"10:00am-5:00pm")),r.a.createElement("div",{className:"opening-hours flex"},r.a.createElement("div",{className:"oh-day"},"Wed: "),r.a.createElement("div",{className:"oh-hour"},"10:00am-5:00pm")),r.a.createElement("div",{className:"opening-hours flex"},r.a.createElement("div",{className:"oh-day"},"Thu: "),r.a.createElement("div",{className:"oh-hour"},"10:00am-5:00pm")),r.a.createElement("div",{className:"opening-hours flex"},r.a.createElement("div",{className:"oh-day"},"Fri: "),r.a.createElement("div",{className:"oh-hour"},"10:00am-5:00pm")),r.a.createElement("div",{className:"opening-hours flex"},r.a.createElement("div",{className:"oh-day"},"Sat: "),r.a.createElement("div",{className:"oh-hour",style:{color:"red"}},"Closed")),r.a.createElement("div",{className:"opening-hours flex"},r.a.createElement("div",{className:"oh-day"},"Sun: "),r.a.createElement("div",{className:"oh-hour",style:{color:"red"}},"Closed")),r.a.createElement("hr",null))),r.a.createElement("span",{className:"bp3-navbar-divider"}),r.a.createElement(oe.Fade,null,r.a.createElement("div",{className:"contact-form-container"},r.a.createElement("h3",null,"Contact Form"),r.a.createElement(It.a,{name:"Choose topic",onChange:this.handleTopicChange,selectedValue:this.state.topic,inline:!0},r.a.createElement("div",null,"Choose a topic"),r.a.createElement(Tt.a,{label:"Bug",id:"Bug",value:1}),r.a.createElement(Tt.a,{label:"Question",id:"Question",value:2}),r.a.createElement(Tt.a,{label:"Other..",id:"Other..",value:3})),r.a.createElement(H.a,{id:"email",className:"contact-email-input",value:this.state.email,onChange:this.handleText,placeholder:"Enter email"}),r.a.createElement(Dt.a,{id:"text",className:"contact-text",onChange:this.handleText,value:this.state.text,fill:!0,large:!0}),r.a.createElement(_.a,{type:"",onClick:this.submitContactForm},"Submit form"))),r.a.createElement(Pt,null))}}]),t}(n.Component),Gt=Object(g.b)(function(e){return{userInfo:e.data.userInfo,showToast:e.loaders.showToast}},function(e){return Object(c.b)({submitContactForm:ue,showJoin:ge},e)})(Bt),Yt=a(270),Wt=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(w.a)(t).call(this,e))).state={},a}return Object(N.a)(t,e),Object(y.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;if(e.showToast!==this.props.showToast&&this.props.showToast){var a=this.props.toastType,n={autoClose:this.props.toastTime,position:J.toast.POSITION.BOTTOM_CENTER};"success"===a&&(n.type=J.toast.TYPE.SUCCESS),"error"===a&&(n.type=J.toast.TYPE.ERROR),"default"===a&&(n.type=J.toast.TYPE.DEFAULT),Object(J.toast)(this.props.toastMessage,n),setTimeout(function(){t.props.changeToaster("",!1,"")},this.props.toastTime)}}},{key:"render",value:function(){return r.a.createElement("div",{className:"footer",style:{backgroundColor:Yt.a.DARK_GRAY5,height:"50px"}},r.a.createElement(J.ToastContainer,null))}}]),t}(n.Component),_t=Object(g.b)(function(e){var t=e.loaders;return{showToast:t.showToast,toastMessage:t.toastMessage,toastType:t.toastType,toastTime:t.toastTime}},function(e){return Object(c.b)({changeToaster:fe},e)})(Wt),Ht=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(w.a)(t).call(this,e))).state={},a}return Object(N.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"stat-container"},r.a.createElement(Ot,null))}}]),t}(n.Component),zt=Object(g.b)(function(e){return{}},function(e){return Object(c.b)({},e)})(Ht),Jt=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(w.a)(t).call(this,e))).getCurrChat=function(e){a.props.getChat(e.target.id),a.setState({currInit:e.target.id})},a.addMessage=function(e){e.preventDefault(),a.props.addPost(a.state.currInit,a.state.text,a.props.userInfo.uid),a.setState({text:""})},a.handleText=function(e){a.setState({text:e.target.value})},a.scrollSmoothToBottom=function(){var e=document.getElementById("admin-chat");vt()("#admin-chat").animate({scrollTop:e.scrollHeight-e.clientHeight},50)},a.state={text:"",currInit:0},a}return Object(N.a)(t,e),Object(y.a)(t,[{key:"componentWillMount",value:function(){this.props.getAllChats()}},{key:"componentDidUpdate",value:function(e){e.chatMessages!==this.props.chatMessages&&this.scrollSmoothToBottom()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"admin-container flex"},this.props.allChats?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"display-chats",style:{flex:1}},Object.keys(this.props.allChats).map(function(t){return r.a.createElement("div",{key:"chat-"+t,id:e.props.allChats[t].initDate,className:"chat-field",onClick:e.getCurrChat},new Date(e.props.allChats[t].initDate).toLocaleString().slice(0,new Date(e.props.allChats[t].initDate).toLocaleString().length-3)+"  "+e.props.allChats[t].users.name)})),r.a.createElement("div",{className:"admin-chat-container",style:{flex:1}},r.a.createElement("div",{className:"admin-chat",id:"admin-chat"},this.props.chatMessages?Object.keys(this.props.chatMessages).map(function(t){return e.props.chatMessages[t].createdBy===e.props.userInfo.uid?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"chat-message you"},r.a.createElement("div",null,e.props.chatMessages[t].post)),r.a.createElement("div",{className:"message-date-you"},"Sent: "+e.props.chatMessages[t].date)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"chat-message receiver"},r.a.createElement("div",null,e.props.chatMessages[t].post)),r.a.createElement("div",{className:"message-date-receiver"},"Sent: "+e.props.chatMessages[t].date))}):r.a.createElement("div",null,"Choose a chat")),r.a.createElement("form",{onSubmit:this.addMessage},r.a.createElement(H.a,{placeholder:"Start say something",value:this.state.text,onChange:this.handleText})))):r.a.createElement(ee.a,{size:25}))}}]),t}(n.Component),qt=Object(g.b)(function(e){var t=e.data,a=t.userInfo,n=t.singleUser,r=e.global;return{chatMessages:r.chatMessages,chatInfo:r.chatInfo,userInfo:a,allChats:r.allChats,singleUser:n}},function(e){return Object(c.b)({getAllChats:Rt,getChat:At,getUser:M,addPost:Ut},e)})(Jt),Kt=function(e){var t=e.store;return r.a.createElement(g.a,{store:t},r.a.createElement(v.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null),r.a.createElement(b.a,{exact:!0,path:"/",component:De}),r.a.createElement(b.a,{path:"/profile",component:Fe}),r.a.createElement(b.a,{path:"/statistics",component:zt}),r.a.createElement(b.a,{path:"/map",component:xt}),r.a.createElement(b.a,{path:"/contact",component:Gt}),r.a.createElement(b.a,{path:"/admin",component:qt}),r.a.createElement(_t,null))))},Vt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Xt(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var $t=Object(c.d)(f,{},Object(c.a)(i.a));s.a.render(r.a.createElement(Kt,{store:$t}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");Vt?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Xt(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Xt(t,e)})}}()}},[[295,1,3]]]);
//# sourceMappingURL=main.d3798732.chunk.js.map